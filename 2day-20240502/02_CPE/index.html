


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lumi-supercomputer.github.io/LUMI-training-materials/2day-20240502/02_CPE/">
      
      
      
      
      <link rel="icon" href="../../assets/favicon-LUMI.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>HPE Cray Programming Environment - LUMI training materials</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--demo:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 192h176V0h-16C71.6 0 0 71.6 0 160v32zm0 32v128c0 88.4 71.6 160 160 160h64c88.4 0 160-71.6 160-160V224H0zm384-32v-32C384 71.6 312.4 0 224 0h-16v192h176z"/></svg>');--md-admonition-icon--exercise:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M78.6 5c-9.5-7.4-23-6.5-31.6 2L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4H158l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3L192 158v-54c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1 0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9l117.8-117.8c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16v-57.5c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0c-79.5 0-144 64.5-144 144v.8l85.3 85.3c36-9.1 75.8.5 104 28.7l15.7 15.7c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1-48 0z"/></svg>');--md-admonition-icon--remark:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 448c141.4 0 256-93.1 256-208S397.4 32 256 32 0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9-1.9 24.5-11.4 46.3-21.4 62.9-5.5 9.2-11.1 16.6-15.2 21.6-2.1 2.5-3.7 4.4-4.9 5.7-.6.6-1 1.1-1.3 1.4l-.3.3c-4.6 4.6-5.9 11.4-3.4 17.4 2.5 6 8.3 9.9 14.8 9.9 28.7 0 57.6-8.9 81.6-19.3 22.9-10 42.4-21.9 54.3-30.6 31.8 11.5 67 17.9 104.1 17.9zM128 208a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm128 0a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm96 32a32 32 0 1 1 64 0 32 32 0 1 1-64 0z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224h16z"/></svg>');--md-admonition-icon--audience:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M72 88a56 56 0 1 1 112 0 56 56 0 1 1-112 0zm-8 157.7c-10 11.2-16 26.1-16 42.3s6 31.1 16 42.3v-84.6zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5V416c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32v-26.8C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112h32c24 0 46.2 7.5 64.4 20.3zM448 416v-21.5c20-24.7 32-56.2 32-90.5 0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176h32c61.9 0 112 50.1 112 112 0 44.7-26.2 83.2-64 101.2V416c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32zm8-328a56 56 0 1 1 112 0 56 56 0 1 1-112 0zm120 157.7v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm-80 272c0 16.2 6 31 16 42.3v-84.6c-10 11.3-16 26.1-16 42.3zm144-42.3v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zm64 42.3c0 44.7-26.2 83.2-64 101.2V448c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32v-42.8c-37.8-18-64-56.5-64-101.2 0-61.9 50.1-112 112-112h32c61.9 0 112 50.1 112 112z"/></svg>');--md-admonition-icon--solution:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M234.7 42.7 197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1 14.1 37.7c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2l-37.7-14.1L263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5l-14.1 37.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0l381.3-381.4c18.7-18.7 18.7-49.1 0-67.9l-34.6-34.5c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"/></svg>');--md-admonition-icon--technical:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M160 96a96 96 0 1 1 192 0 96 96 0 1 1-192 0zm80 152v264l-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427V224c0-17.7 14.3-32 32-32h30.3c63.6 0 125.6 19.6 177.7 56zm32 264V248c52.1-36.4 114.1-56 177.7-56H480c17.7 0 32 14.3 32 32v203c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3L272 512z"/></svg>');--md-admonition-icon--intermediate:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9V320c0 28.4-10.8 57.7-22.3 80.8-6.5 13-13.9 25.8-22.5 37.6-3.2 4.3-4.1 9.9-2.3 15s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7.3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7-3.2-14.2-7.5-28.7-13.5-42v-24.6c0-30.2 10.2-58.7 27.9-81.5 12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5.8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1l280.6-101c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1c-7.6-2.7-15.6-4.1-23.7-4.1zM128 408c0 35.3 86 72 192 72s192-36.7 192-72l-15.3-145.4L354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6l-142.2-51.4L128 408z"/></svg>');--md-admonition-icon--advanced:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M219.3.5c3.1-.6 6.3-.6 9.4 0l200 40C439.9 42.7 448 52.6 448 64s-8.1 21.3-19.3 23.5L352 102.9V160c0 70.7-57.3 128-128 128S96 230.7 96 160v-57.1l-48-9.6v65.1l15.7 78.4c.9 4.7-.3 9.6-3.3 13.3S52.8 256 48 256H16c-4.8 0-9.3-2.1-12.4-5.9s-4.3-8.6-3.3-13.3L16 158.4V86.6C6.5 83.3 0 74.3 0 64c0-11.4 8.1-21.3 19.3-23.5l200-40zM111.9 327.7c10.5-3.4 21.8.4 29.4 8.5l71 75.5c6.3 6.7 17 6.7 23.3 0l71-75.5c7.6-8.1 18.9-11.9 29.4-8.5 65 20.9 112 81.7 112 153.6 0 17-13.8 30.7-30.7 30.7H30.7C13.8 512 0 498.2 0 481.3c0-71.9 47-132.7 111.9-153.6z"/></svg>');--md-admonition-icon--lumi-be:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 0C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h96v-80c0-26.5 21.5-48 48-48s48 21.5 48 48v80h96c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H48zm16 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-32zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32zM80 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16zM448 0c-17.7 0-32 14.3-32 32v480h64V192h144c8.8 0 16-7.2 16-16V48c0-8.8-7.2-16-16-16H480c0-17.7-14.3-32-32-32z"/></svg>');--md-admonition-icon--nice-to-know:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M297.2 248.9c14.4-20.6 22.8-45.7 22.8-72.9 0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9 3.7 5.3 8.1 11.3 12.8 17.7 12.9 17.7 28.3 38.9 39.8 59.8 10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5-9.9-18-22.2-34.9-34.5-51.8-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176 16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3-5 7.2-10.2 14.3-15.4 21.4-12.3 16.8-24.6 33.7-34.5 51.8-5.9 10.8-9.6 22.5-11.8 34.5h-48.5c2.6-18.7 7.9-38.6 18.3-57.5 11.5-20.9 26.9-42.1 39.8-59.8 4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48 0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80 8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80v-16h160v16c0 44.2-35.8 80-80 80z"/></svg>');}</style>



    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.body.addEventListener("click", function(ev) {
        if (ev.target instanceof HTMLElement) {
          var el = ev.target.closest("a[href^=http]")
          if (el)
            ga("send", "event", "outbound", "click", el.href)
        }
      })
    })
  </script>

    
    

  
  
  
    
  

  
  

  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LUMI training materials - HPE Cray Programming Environment" />
  <meta property="og:description" content="None" />
  <meta property="og:url" content="https://lumi-supercomputer.github.io/LUMI-training-materials/2day-20240502/02_CPE/" />
  <meta property="og:image" content="https://lumi-supercomputer.github.io/LUMI-training-materials/assets/images/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@LUMIhpc" />
  <meta name="twitter:creator" content="@LUMIhpc" />
  <meta name="twitter:title" content="LUMI training materials - HPE Cray Programming Environment" />
  <meta name="twitter:description" content="None" />
  <meta name="twitter:image" content="https://lumi-supercomputer.github.io/LUMI-training-materials/assets/images/banner.png" />

  <style>
    [data-md-color-primary="lumi"] {
      --md-primary-fg-color: hsla(0, 0%, 100%, 1);
      --md-primary-fg-color--light: hsla(0, 0%, 100%, 0.7);
      --md-primary-fg-color--dark: hsla(0, 0%, 0%, 0.07);
      --md-primary-bg-color: hsla(0, 0%, 0%, 0.87);
      --md-primary-bg-color--light: hsla(0, 0%, 0%, 0.54);
      --md-button-bg-color: hsla(207,100%,28%, 1);
      --md-button-bg-color--light: hsla(207,100%,38%, 1);
      --md-typeset-a-color: hsla(207,100%,28%, 1);
    }
    
    [data-md-color-accent="lumi"] {
      --md-accent-fg-color: hsla(0,0%,0%, 1);
      --md-accent-fg-color--transparent: hsla(0,0%,0%, 0.1);
      --md-accent-bg-color: hsla(0, 0%, 100%, 1);
      --md-accent-bg-color--light: hsla(0, 0%, 100%, 0.7);
    }
  </style>

  


  
  

    <link
      rel="stylesheet"
      href="../../assets/stylesheets/extra-50959fdd9a.css"
    />
    <link
      rel="stylesheet"
      href="../../assets/stylesheets/overrides-5193e6f6df.css"
    />
    <link
      rel="stylesheet"
      id="typekit-fonts-css"
      href="https://use.typekit.net/nlo5lta.css?ver=5.5.3"
      type="text/css" media="all"
    />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lumi" data-md-color-accent="lumi">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hpe-cray-programming-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LUMI training materials" class="md-header__button md-logo" aria-label="LUMI training materials" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LUMI training materials
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HPE Cray Programming Environment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LUMI training materials" class="md-nav__button md-logo" aria-label="LUMI training materials" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    LUMI training materials
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Updates/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Updates
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Updates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202311/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    October-November 2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Updates/Update-202308/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    August 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            August 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/lumig-lownoise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Low-noise mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/lumig-devg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dev-g and eap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/responsible-use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Responsible use
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Coffee-Breaks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Coffee Breaks
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Coffee Breaks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai-20240529/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI workshop May 2024
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI workshop May 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Supercomputing with LUMI May 2024
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Supercomputing with LUMI May 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20240423/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI April 2024
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI April 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20240208/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day February 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            1-day February 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_01_LUMI_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_02_HPE_Cray_Programming_Environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_03_Modules_on_LUMI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_04_LUMI_Software_Stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_06_Running_Jobs_on_LUMI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_08_Introduction_to_Lustre_and_Best_Practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_09_LUMI_User_Support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/A01_Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Profiling-20231122/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Profiling November 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Profiling November 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20231003/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI October 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI October 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Partner courses
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Partner courses
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://zenodo.org/records/10610643" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS workshop 2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20230921/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day September 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_1" id="__nav_11_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_1">
            <span class="md-nav__icon md-icon"></span>
            1-day September 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/01_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/02_CPE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/03_Modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/04_Software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/06_Running_jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/08_Lustre_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/09_LUMI_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/A01_Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20230530/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI May-June 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_2">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI May-June 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20230509/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day May 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_3" id="__nav_11_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_3">
            <span class="md-nav__icon md-icon"></span>
            1-day May 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/01_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/02_CPE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/03_Modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/04_Software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/06_Running_jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/08_Lustre_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/09_LUMI_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Hackathon-20230417/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Hackathon April 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_4">
            <span class="md-nav__icon md-icon"></span>
            Hackathon April 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Profiling-20230413/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Profiling April 2013
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_5">
            <span class="md-nav__icon md-icon"></span>
            Profiling April 2013
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20230214/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI February 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_6">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI February 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../LUMI-G-20230111/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LUMI-G January 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_7">
            <span class="md-nav__icon md-icon"></span>
            LUMI-G January 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../PEAP-Q-20221123/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    PEAP-Q November 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_8" id="__nav_11_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_8">
            <span class="md-nav__icon md-icon"></span>
            PEAP-Q November 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20221123/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../LUMI-G-20220823/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LUMI-G August 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_9" id="__nav_11_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_9">
            <span class="md-nav__icon md-icon"></span>
            LUMI-G August 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LUMI-G-20220823/hackmd_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hackmd notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../EasyBuild-CSC-20220509/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EasyBuild May 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_10" id="__nav_11_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_10">
            <span class="md-nav__icon md-icon"></span>
            EasyBuild May 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://klust.github.io/easybuild-tutorial/2022-CSC_and_LO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../PEAP-Q-20220427/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    PEAP-Q April 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11_11" id="__nav_11_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_11">
            <span class="md-nav__icon md-icon"></span>
            PEAP-Q April 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20220427/hackmd_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hackmd notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20220427/software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Software Stacks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-do-i-need-to-know-this" class="md-nav__link">
    <span class="md-ellipsis">
      Why do I need to know this?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-operating-system-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      The operating system on LUMI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#low-noise-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Low-noise mode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programming-models" class="md-nav__link">
    <span class="md-ellipsis">
      Programming models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-development-environment-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      The development environment on LUMI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-cray-compiling-environment" class="md-nav__link">
    <span class="md-ellipsis">
      The Cray Compiling Environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scientific-and-math-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Scientific and math libraries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cray-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      Cray MPI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpu-aware-mpi" class="md-nav__link">
    <span class="md-ellipsis">
      GPU-aware MPI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmod" class="md-nav__link">
    <span class="md-ellipsis">
      Lmod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiler-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Compiler wrappers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selecting-the-version-of-the-cpe" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting the version of the CPE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-target-modules" class="md-nav__link">
    <span class="md-ellipsis">
      The target modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prgenv-and-compiler-modules" class="md-nav__link">
    <span class="md-ellipsis">
      PrgEnv and compiler modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    <span class="md-ellipsis">
      Getting help
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-chatgpt-and-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      Google, ChatGPT and LUMI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Other modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#warning-1-you-do-not-always-get-what-you-expect" class="md-nav__link">
    <span class="md-ellipsis">
      Warning 1: You do not always get what you expect...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#warning-2-order-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Warning 2: Order matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-compiling-without-the-hpe-cray-pe-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Note: Compiling without the HPE Cray PE wrappers
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="hpe-cray-programming-environment">HPE Cray Programming Environment<a class="headerlink" href="#hpe-cray-programming-environment" title="Permanent link">&para;</a></h1>
<p>In this session we discuss some of the basics of the operating system and
programming environment on LUMI. Whether you like it or not, every user
of a supercomputer like LUMI gets confronted with these elements at some
point.</p>
<h2 id="why-do-i-need-to-know-this">Why do I need to know this?<a class="headerlink" href="#why-do-i-need-to-know-this" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Why do I need to know" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/WhyKnow.png" /></p>
</figure>
<p>The typical reaction of someone who only wants to run software on an HPC
system when confronted with a talk about development tools is
<em>"I only want to run some programs, why do I need to know about programming
environments?"</em></p>
<p>The answer is that development environments are <strong>an intrinsic part of an HPC system</strong>. 
No HPC system is as polished as a personal computer and the software users want to use
is typically very unpolished. And some of the <strong>essential middleware</strong> that turns the hardware
with some variant of Linux into a parallel supercomputers <strong>is part of the programming 
environment</strong>. The <strong>binary interfaces to those libraries are also not as standardised</strong> 
as for the more common Linux system libraries.</p>
<p>Programs on an HPC cluster are preferably <strong>installed from sources</strong> to generate binaries
optimised for the system. CPUs have gotten new instructions over time that can sometimes
speed-up execution of a program a lot, and compiler optimisations that take specific strengths
and weaknesses of particular CPUs into account can also gain some performance. Even just a 10%
performance gain on an investment of 160 million EURO such as LUMI means a lot of money.
When running, the <strong>build environment on most systems needs to be at least partially recreated</strong>.
This is somewhat less relevant on Cray systems as we will see at the end of this part of
the course, but if you want reproducibility it becomes important again.</p>
<p>Compiling on the system is also the <strong>easiest way to guarantee compatibility of the binaries</strong>
with the system. </p>
<p>Even when installing software from prebuilt binaries some modules might still be needed.
Prebuilt binaries will typically include the essential runtime libraries for the parallel
technologies they use, <strong>but these may not be compatible with LUMI</strong>. 
In some cases this can be solved by injecting a library from LUMI, e.g.,
you may want to inject an optimised MPI library as we shall see in the container section
of this course. But sometimes a binary is simply incompatible with LUMI and there is no other
solution than to build the software from sources.</p>
<!-- BELGIUM 
!!! lumi-be "Clusters in Belgium"

    There are differences in the setup of the operating system on LUMI compared
    to the VSC, CÉCI and Cenaero clusters in Belgium.

    Lucia, the Cenaero cluster and Walloon tier-1 system, has a programming
    environment which is similar to LUMI. But all other Belgian systems have 
    a programming environment that is more inspired on the GNU and other 
    Open Source software approach. (I don't want to say "a more traditional" 
    programming environment as in fact the HPE Cray PE goes back in its approach
    to the environment on UNIX workstations and supercomputers in the '90s, so is
    in fact the more traditional one. It's just that we have forgotten those 
    traditions...)
-->

<h2 id="the-operating-system-on-lumi">The operating system on LUMI<a class="headerlink" href="#the-operating-system-on-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide The OS on LUMI" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/OperatingSystem.png" /></p>
</figure>
<p>The <strong>login nodes</strong> of LUMI run a <strong>regular SUSE Linux Enterprise Server 15 SP4</strong> distribution.
The <strong>compute nodes</strong> however run <strong>Cray OS, a restricted version of the SUSE Linux</strong> that runs
on the login nodes. Some daemons are inactive or configured differently and Cray also 
does not support all regular file systems. The goal of this is to <strong>minimize OS jitter</strong>,
interrupts that the OS handles and slow down random cores at random moments, that can 
limit scalability of programs. Yet on the GPU nodes there was still the need to reserve
one core for the OS and driver processes.
This in turn led to an asymmetry in the setup so now 8 cores are reserved, one per CCD, so
that all CCDs are equal again.</p>
<p>This also implies that some software that works perfectly fine on the login nodes <strong>may not
work on the compute nodes</strong>. E.g., you will see that there is no <code>/run/user/$UID</code> directory.</p>
<p>Large HPC clusters also have a small system image, so <strong>don't expect all the bells-and-whistles 
from a Linux workstation to be present on a large supercomputer</strong> (and certainly not in the same
way as they would be on a workstation).
Since LUMI compute nodes are diskless, the system image actually occupies RAM which is another
reason to keep it small.</p>
<details class="technical">
<summary>Some missing pieces</summary>
<p>Compute nodes don't run a per-user dbus daemon, so some if not all DBUS functionality
is missing. And D-Bus may sometimes show up in places where you don't expect it...
It may come from freedesktop.org but is is not only used for desktop software.</p>
<p>Compute nodes on a Cray system have Lustre as the main file system. They do not import
any networked file system like NFS, GPFS or CernVM-FS (the latter used by, e.g., Cern for 
distributing software for the Large Haedron Collider and the
<a href="https://www.eessi-hpc.org/eessi-architecture/">EESSI</a> project). Instead these file
systems are mounted on external servers in the admin section of the cluster and
the Cray Data Virtualisation Service (DVS) is then used to access those file systems
from the compute nodes over the high-speed interconnect.</p>
</details>
<h2 id="low-noise-mode">Low-noise mode<a class="headerlink" href="#low-noise-mode" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Low-noise mode" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/LowNoiseMode.png" /></p>
</figure>
<p>Low-noise mode has meant different things throughout the history of Cray systems. 
Sometimes the mode described above, using only a selection of the regular Linux daemons on the
compute nodes, was already called low-noise mode while some Cray systems provided another mode
in which those daemons were activated. Depending on the cluster this was then called "emulation mode"
or "Cluster Compatibility Mode". The latter is not implemented on LUMI, and even if it would, compatibility
would still be limited by the special requirements to use the Slingshot interconnect and to have
GPU-aware communication over Slingshot.</p>
<p>However, it turned out that even the noise reduction described above was not yet sufficient to
pass some large-scale scalability tests, and therefore another form of "low-noise" mode is implemented
on the GPU nodes of LUMI where OS processes are restricted to a reserved core, actually core 0.
This leaves us with an asymmetric structure of the node, where the first CCD has 7 available cores
while the other ones have 8, but as that created a headache for users to get a proper
distribution of tasks and threads over the CPU 
(see the <a href="../07_Binding/">"Process and thread distribution and binding" chapter</a>),
the choice was made to also disable the first core on each of the other CCDs so that
users now effectively see a 56-core node with 8 CCDs with 7 cores each.</p>
<p>This is actually an idea Cray has been experimenting with in the past already, ever since
we've had nodes with 20 or more cores with the AMD Magny-Cours processors in 2010.</p>
<h2 id="programming-models">Programming models<a class="headerlink" href="#programming-models" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Programming models" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/ProgrammingModels.png" /></p>
</figure>
<p>On LUMI we have several C/C++ and Fortran compilers. These will be discussed more in this
session.</p>
<p>There is also support for MPI and SHMEM for distributed applications. And we also support
<a href="https://github.com/ROCmSoftwarePlatform/rccl">RCCL</a>, the ROCm-equivalent of the 
<a href="https://developer.nvidia.com/nccl">CUDA NCCL</a> library that is popular in machine learning packages.</p>
<p>All compilers have some level of <a href="https://www.openmp.org/">OpenMP</a> support, 
and two compilers support OpenMP offload to 
the AMD GPUs, but again more about that later.</p>
<p><a href="https://www.openacc.org/">OpenACC</a>, the other directive-based model for GPU offloading, 
is only supported in the Cray Fortran compiler. There is no commitment of neither HPE Cray
or AMD to extend that support to C/C++ or other compilers, even though there is work going on
in the LLVM community and several compilers on the system are based on LLVM.</p>
<p>The other important programming model for AMD GPUs is <a href="https://github.com/rocm-developer-tools/hip">HIP</a>
(Heterogeneous-Compute Interface for Portability), 
which is their alternative for the
proprietary CUDA model. It does not support all CUDA features though (basically it is more CUDA 7 or 8 level) 
and there is also no equivalent to CUDA Fortran.</p>
<p>The commitment to OpenCL is very unclear, and this actually holds for other GPU vendors also.</p>
<p>We also try to provide <a href="https://www.khronos.org/sycl/">SYCL</a> as it is a programming language/model that works on all three GPU
families currently used in HPC. </p>
<p>Python is of course pre-installed on the system but we do ask to use big Python installations in a special way
as Python puts a tremendous load on the file system. More about that later in this course.</p>
<p>Some users also report some success in running <a href="https://julialang.org/">Julia</a>. We don't have full support though and have to
depend on binaries as provided by <a href="https://julialang.org/downloads/">julialang.org</a>. The AMD GPUs are
not yet fully supported by Julia.</p>
<p>It is important to realise that there is no CUDA on AMD GPUs and there will never be as this is a 
proprietary technology that other vendors cannot implement. The visualisation nodes in LUMI have
NVIDIA rendering GPUs but these nodes are meant for visualisation and not for compute.</p>
<h2 id="the-development-environment-on-lumi">The development environment on LUMI<a class="headerlink" href="#the-development-environment-on-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Development environment" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/DevelopmentEnvironment.png" /></p>
</figure>
<p>Long ago, Cray designed its own processors and hence had to develop their own
compilers. They kept doing so, also when they moved to using more standard components,
and had a lot of expertise in that field, especially when it comes to the needs of 
scientific codes, programming models that are almost only used in scientific computing
or stem from such projects. As they develop their own interconnects, it does make sense
to also develop an MPI implementation that can use the interconnect in an optimal way.
They also have a long tradition in developing performance measurement and analysis tools 
and debugging tools that work in the context of HPC.</p>
<p>The first important component of the HPE Cray Programming Environment is the compilers.
Cray still builds its own compilers for C/C++ and Fortran, called the Cray Compiling
Environment (CCE). Furthermore, the GNU compilers are also supported on every Cray system,
though at the moment AMD GPU support is not enabled. Depending on the hardware of the 
system other compilers will also be provided and integrated in the environment. On LUMI
two other compilers are available: the AMD AOCC compiler for CPU-only code and the 
AMD ROCm compilers for GPU programming. Both contain a C/C++ compiler based on Clang and
LLVM and a Fortran compiler which is currently based on the former PGI frontend with
LLVM backend. The ROCm compilers also contain the support for HIP, AMD's CUDA clone.</p>
<p>The second component is the Cray Scientific and Math libraries, containing the usual
suspects as BLAS, LAPACK and ScaLAPACK, and FFTW, but also some data libraries and
Cray-only libraries.</p>
<p>The third component is the Cray Message Passing Toolkit. It provides an MPI implementation
optimized for Cray systems, but also the Cray SHMEM libraries, an implementation of
OpenSHMEM 1.5.</p>
<p>The fourth component is some Cray-unique sauce to integrate all these components, and 
support for hugepages to make memory access more efficient for some programs that 
allocate huge chunks of memory at once.</p>
<p>Other components include the Cray Performance Measurement and Analysis Tools and the 
Cray Debugging Support Tools that will not be discussed in this one-day course, and
Python and R modules that both also provide some packages compiled with support for the
Cray Scientific Libraries.</p>
<p>Besides the tools provided by HPE Cray, several of the development tools from the
ROCm stack are also available on the system while some others can be user-installed
(and one of those, Omniperf, is not available due to security concerns).
Furthermore there are some third party tools available on LUMI,
including <a href="https://www.linaroforge.com/">Linaro Forge</a> (previously ARM Forge) and
<a href="https://vampir.eu/">Vampir</a> and some open source profiling tools.</p>
<p>Specifically <strong>not</strong> on LUMI is the Intel programming environment, nor is the
regular Intel oneAPI HPC Toolkit. The classic Intel compilers pose problems on AMD CPUs
as <code>-xHost</code> cannot be relied on, but it appears that the new compilers that are based on
Clang and an LLVM backend behave better. Various MKL versions are also troublesome, with
different workarounds for different versions, though here also it seems that Intel now has 
code that works well on AMD for many MKL routines. We have experienced problems with Intel 
MPI when testing it on LUMI though in principle it should be possible to use Cray MPICH as
they are derived from the same version of MPICH. 
The NVIDIA programming environment doesn't make sense on an AMD GPU system, 
but it could be useful for some visualisation software on the 
visualisation nodes so it is currently installed on those nodes.</p>
<p>We will now discuss some of these components in a little bit more detail, but refer
to the 4-day trainings that we organise several times a year with HPE for more material.</p>
<h2 id="the-cray-compiling-environment">The Cray Compiling Environment<a class="headerlink" href="#the-cray-compiling-environment" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Cray Compiling Environment" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/CrayComplingEnv.png" /></p>
</figure>
<p>The Cray Compiling Environment are the default compilers on many Cray systems and on LUMI.
These compilers are designed specifically for scientific software in an HPC environment.
The current versions are LLVM-based with extensions by HPE Cray for
automatic vectorization and shared memory parallelization, technology that they
have experience with since the late '70s or '80s.</p>
<p>The compiler offers extensive standards support.
The C and C++ compiler is essentially their own build of Clang with LLVM with some of their
optimisation plugins and OpenMP run-time.
The version numbering of the CCE
currently follows the major versions of the Clang compiler used. The support for C and C++
language standards corresponds to that of Clang.
The Fortran compiler uses a frontend and optimiser developed by HPE Cray, but an LLVM-based code generator. 
The compiler supports most of Fortran 2018 (ISO/IEC 1539:2018). The CCE Fortran compiler
is known to be very strict with language standards. Programs that use GNU or Intel extensions
will usually fail to compile, and unfortunately since many developers only test with these
compilers, much Fortran code is not fully standards compliant and will fail.</p>
<p>All CCE compilers support OpenMP, with offload for AMD and NVIDIA GPUs. 
In their most recent versions, they claim full
OpenMP 5.0 support with partial (and growing) support for OpenMP 5.1 and 5.2. More 
information about the OpenMP support is found by checking a manual page:
<div class="highlight"><pre><span></span><code>man intro_openmp
</code></pre></div>
which does require that the <code>cce</code> module is loaded,
or the <a href="https://cpe.ext.hpe.com/docs/cce/man7/intro_openmp.7.html">web version of that page</a>
which may be for a more recent version of the programming environment than available on LUMI.
The Fortran compiler also supports OpenACC for AMD and NVIDIA GPUs. That implementation
claims to be fully OpenACC 2.0 compliant, and offers partial support for OpenACC 2.x/3.x. 
Information is available via
<div class="highlight"><pre><span></span><code>man intro_openacc
</code></pre></div>
or the corresponding
<a href="https://cpe.ext.hpe.com/docs/cce/man7/intro_openacc.7.html">web version of that page</a>
which again may be for a more recent version of the programming environment than available on LUMI.
AMD and HPE Cray still recommend moving to OpenMP which is a much broader supported standard.
There are no plans to also support OpenACC in the Cray C/C++ compiler, nor are there any 
plans for support by AMD in the ROCm stack.</p>
<p>The CCE compilers also offer support for some PGAS (Partitioned Global Address Space) languages.
UPC 1.2 is supported, as is Fortran 2008 coarray support. These implementations do not require a
preprocessor that first translates the code to regular C or Fortran. There is also support
for debugging with Linaro Forge.</p>
<p>Lastly, there are also bindings for MPI.</p>
<h2 id="scientific-and-math-libraries">Scientific and math libraries<a class="headerlink" href="#scientific-and-math-libraries" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Scientific and math libraries" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/ScientificLibraries.png" /></p>
</figure>
<p><a href="https://cpe.ext.hpe.com/docs/csml/index.html">Cray Scientific and Math Libraries overview web page</a></p>
<p>Some mathematical libraries have become so popular that they basically define an API for which
several implementations exist, and CPU manufacturers and some open source groups spend a significant
amount of resources to make optimal implementations for each CPU architecture.</p>
<p>The most notorious library of that type is BLAS, a set of basic linear algebra subroutines
for vector-vector, matrix-vector and matrix-matrix implementations. It is the basis for many
other libraries that need those linear algebra operations, including Lapack, a library with
solvers for linear systems and eigenvalue problems.</p>
<p>The <a href="https://cpe.ext.hpe.com/docs/csml/cray_libsci.html">HPE Cray LibSci</a> library 
contains BLAS and its C-interface CBLAS, and LAPACK and its
C interface LAPACKE. It also adds ScaLAPACK, a distributed memory version of LAPACK, and BLACS, the 
Basic Linear Algebra Communication Subprograms, which is the communication layer used by ScaLAPACK.
The BLAS library combines implementations from different sources, to try to offer the most optimal
one for several architectures and a range of matrix and vector sizes.</p>
<p>LibSci also contains one component which is HPE Cray-only: IRT, the Iterative Refinement Toolkit, 
which allows to do mixed precision computations for LAPACK operations that can speed up the generation
of a double precision result with nearly a factor of two for those problems that are suited for
iterative refinement. If you are familiar with numerical analysis, you probably know that the matrix should
not be too ill-conditioned for that.</p>
<p>There is also a GPU-optimized version of LibSci, called 
<a href="https://cpe.ext.hpe.com/docs/csml/cray_libsci_acc.html">LibSci_ACC</a>, which contains a subset of the
routines of LibSci. We or the LUMI USer Support Team don't have much experience with this library though.
It can be compared with what Intel is doing with oneAPI MKL which also offers GPU versions of some of
the traditional MKL routines.</p>
<p>Another separate component of the scientific and mathematical libraries is 
<a href="https://cpe.ext.hpe.com/docs/csml/cray_fftw.html">FFTW3, Fastest Fourier Transforms in the West</a>, 
which comes with
optimized versions for all CPU architectures supported by recent HPE Cray machines.</p>
<p>Finally, the scientific and math libraries also contain HDF5 and netCDF libraries
in sequential and parallel versions.  These are included because it is essential that 
they interface properly with MPI parallel I/O and the Lustre file system to offer
the best bandwidth to and from storage. </p>
<p>Cray used to offer more pre-installed third party libraries for which the only added value
was that they compiled the binaries. Instead they now offer
<a href="https://github.com/Cray/pe-scripts">build scripts in a GitHub repository</a>.</p>
<h2 id="cray-mpi">Cray MPI<a class="headerlink" href="#cray-mpi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Cray MPI" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/CrayMPI.png" /></p>
</figure>
<p>HPE Cray build their own MPI library with optimisations for their own interconnects.
The Cray MPI library is derived from the ANL MPICH 3.4 code base and fully supports the 
ABI (Application Binary Interface) of that application which implies that in principle
it should be possible to swap the MPI library of applications build with that ABI with
the Cray MPICH library. Or in other words, if you can only get a binary distribution of
an application and that application was build against an MPI library compatible with 
the MPICH 3.4 ABI (which includes Intel MPI) it should be possible to exchange that
library for the Cray one to have optimised communication on the Cray Slingshot interconnect.</p>
<p>Cray MPI contains many tweaks specifically for Cray systems.
HPE Cray claim improved algorithms for many collectives, an asynchronous
progress engine to improve overlap of communications and computations, 
customizable collective buffering when using MPI-IO, and
optimized remote memory access (MPI one-sided communication) which also supports
passive remote memory access.</p>
<p>When used in the correct way (some attention is needed when linking applications) it is also fully
GPU aware with currently support for AMD and NVIDIA GPUs.</p>
<p>The MPI library also supports bindings for Fortran 2008.</p>
<p>MPI 3.1 is almost completely supported, with two exceptions. Dynamic process management is not
supported (and a problem anyway on systems with batch schedulers), and when using CCE
<code>MPI_LONG_DOUBLE</code> and <code>MPI_C_LONG_DOUBLE_COMPLEX</code> are also not supported.</p>
<p>The Cray MPI library does not support the <code>mpirun</code> or <code>mpiexec</code> commands, which is in fact
allowed by the standard which only requires a process starter and suggest <code>mpirun</code> or <code>mpiexec</code> 
depending on the version of the standard. Instead the Slurm <code>srun</code> command is used as the 
process starter. This actually makes a lot of sense as the MPI application should be mapped
correctly on the allocated resources, and the resource manager is better suited to do so.</p>
<p>Cray MPI on LUMI is layered on top of libfabric, which in turn uses the so-called Cassini provider
to interface with the hardware. <strong>UCX is not supported on LUMI</strong> (but Cray MPI can support it when used
on InfiniBand clusters). It also uses a GPU Transfer Library (GTL) for GPU-aware MPI.</p>
<h2 id="gpu-aware-mpi">GPU-aware MPI<a class="headerlink" href="#gpu-aware-mpi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide GPU-aware MPI" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/CrayMPIGPU.png" /></p>
</figure>
<p>Cray MPICH does support GPU-aware MPI, so it is possible to directly use GPU-attached communication buffers using device pointers.
The implementation supports (a) GPU-NIC RDMA for efficient inter-node MPI transfers and (b) GPU Peer2Peer IPC for
efficient intra-node transfers. The latter mechanism comes with some restrictions though that we will discuss in the
<a href="../07_Binding/">chapter "Process and thread distribution and binding"</a>.</p>
<p>GPU-aware MPI needs to be enabled explicitly, which you can do by setting an environment variable:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_GPU_SUPPORT_ENABLED</span><span class="o">=</span><span class="m">1</span>
</code></pre></div>
<p>In addition to this, if the GPU code does use MPI operations that access GPU-attached memory regions it is best to also set</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_OFI_NIC_POLICY</span><span class="o">=</span>GPU
</code></pre></div>
<p>to tell MPICH to always use the NIC closest to the GPU.</p>
<p>If only CPU communication buffers are used, then it may be better to set</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_OFI_NIC_POLICY</span><span class="o">=</span>NUMA
</code></pre></div>
<p>which tells MPICH to use the NIC closest to the CPU NUMA domain.</p>
<p>Depending on how Slurm is used, Peer2Peer IPC may not work and in those cases you may want to turn it off using
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_GPU_IPC_ENABLED</span><span class="o">=</span><span class="m">0</span>
</code></pre></div>
or alternatively
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_SMP_SINGLE_COPY_MODE</span><span class="o">=</span>NONE
</code></pre></div>
Both options entail a serious loss of performance. The underlying problem is that the way in which Slurm does GPU
binding using control groups makes other GPUS from other tasks in the node invisible to a task.</p>
<p>More information about Cray MPICH and the many environment variables to fine-tune performance can
be found in the manual page</p>
<div class="highlight"><pre><span></span><code>man intro_mpi
</code></pre></div>
<p>or its <a href="https://cpe.ext.hpe.com/docs/mpt/mpich/intro_mpi.html">web-based version</a>
which may be for a newer version than available on LUMI.</p>
<h2 id="lmod">Lmod<a class="headerlink" href="#lmod" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Lmod" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/Lmod.png" /></p>
</figure>
<p>Virtually all clusters use modules to enable the users to configure the environment and
select the versions of software they want. There are three different module systems around.
One is an old implementation that is hardly evolving anymore but that can still be found on
a number of clusters. HPE Cray still offers it as an option. Modulefiles are written in TCL,
but the tool itself is in C. The more popular tool at the moment is probably Lmod. It is largely
compatible with modulefiles for the old tool, but prefers modulefiles written in LUA. It is also
supported by the HPE Cray PE and is our choice on LUMI. The final implementation is a full TCL implementation developed 
in France and also in use on some large systems in Europe.</p>
<p>Fortunately the basic commands are largely similar in those implementations, but what differs is
the way to search for modules. We will now only discuss the basic commands, the more advanced ones
will be discussed in the next session of this tutorial course.</p>
<p>Modules also play an important role in configuring the HPE Cray PE, but before touching that 
topic we present the basic commands:</p>
<ul>
<li><code>module avail</code>: Lists all modules that can currently be loaded. </li>
<li><code>module list</code>: Lists all modules that are currently loaded</li>
<li><code>module load</code>: Command used to load a module. Add the name and version of the module.</li>
<li><code>module unload</code>: Unload a module. Using the name is enough as there can only one version be 
    loaded of a module.</li>
<li><code>module swap</code>:  Unload the first module given and then load the second one. In Lmod this is 
    really equivalent to a <code>module unload</code> followed by a <code>module load</code>.</li>
</ul>
<p>Lmod supports a hierarchical module system. Such a module setup distinguishes between installed modules
and available modules. The installed modules are all modules that can be loaded in one way or another
by the module systems, but loading some of those may require loading other modules first. The available
modules are the modules that can be loaded directly without loading any other module.
The list of available modules changes all the time based on modules that are already loaded, and if
you unload a module that makes other loaded modules unavailable, those will also be deactivated by Lmod.
The advantage of a hierarchical module system is that one can support multiple configurations of a module
while all configurations can have the same name and version. This is not fully exploited on LUMI, but it 
is used a lot in the HPE Cray PE. E.g., the MPI libraries for the various compilers on the system all have
the same name and version yet make different binaries available depending on the compiler that is being used.</p>
<!-- BELGIUM
!!! lumi-be "Different configurations on some Belgian clusters"
    Depending on the configuration Lmod can behave rather differently on different
    systems. Some clusters in Belgium have Lmod configured to mimic the original
    Tcl module system better rather than exposing the full power of Lmod.

    E.g., on LUMI, `module swap` isn't really needed as the auto-swap feature of Lmod is 
    enabled. Automatically unloading a module if another module with the same name is 
    loaded, is also enabled. Both features make with a hierarchical scheme much more powerful
    and using the HPE Cray PE with these features disabled would be very difficult.
-->

<h2 id="compiler-wrappers">Compiler wrappers<a class="headerlink" href="#compiler-wrappers" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Compiler wrappers" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/CompilerWrappers.png" /></p>
</figure>
<p>The HPE Cray PE compilers are usually used through compiler wrappers.
The wrapper for C is <code>cc</code>, the one for C++ is <code>CC</code> and the one for Fortran is <code>ftn</code>.
The wrapper then calls the selected compiler. Which compiler will be called is determined
by which compiler module is loaded. As shown on the slide 
<a href="#the-development-environment-on-lumi">"Development environment on LUMI"</a>, on LUMI
the Cray Compiling Environment (module <code>cce</code>), GNU Compiler Collection (module <code>gcc</code>), 
the AMD Optimizing Compiler for CPUs (module <code>aocc</code>) and the ROCm LLVM-based compilers
(module <code>amd</code>) are available. On the visualisation nodes, the NVIDIA HPC compiler is currently
also installed (module <code>nvhpc</code>). On other HPE Cray systems, you may also find the Intel
compilers.</p>
<p>The target architectures for CPU and GPU are also selected through modules, so it is better
to not use compiler options such as <code>-march=native</code>. This makes cross compiling also easier.</p>
<p>The wrappers will also automatically link in certain libraries, and make the include files available,
depending on which other modules are loaded. In some cases it tries to do so cleverly, like selecting an MPI,
OpenMP, hybrid or sequential option depending on whether the MPI module is loaded and/or OpenMP compiler
flag is used. This is the case for:</p>
<ul>
<li>The MPI libraries. There is no <code>mpicc</code>, <code>mpiCC</code>, <code>mpif90</code>, etc. on LUMI (well, there is nowadays, but their
    use is discouraged). The regular compiler
    wrappers do the job as soon as the <code>cray-mpich</code> module is loaded.</li>
<li>LibSci and FFTW are linked automatically if the corresponding modules are loaded. So no need
    to look, e.g., for the BLAS or LAPACK libraries: They will be offered to the linker if the
    <code>cray-libsci</code> module is loaded (and it is an example of where the wrappers try to take the
    right version based not only on compiler, but also on whether MPI is loaded or not and the
    OpenMP compiler flag).</li>
<li>netCDF and HDF5</li>
</ul>
<p>It is possible to see which compiler and linker flags the wrappers add through the <code>-craype-verbose</code>
flag.</p>
<p>The wrappers do have some flags of their own, but also accept all flags of the selected compiler and 
simply pass those to those compilers.</p>
<p>The compiler wrappers are provided by the <code>craype</code> module (but you don't have to load that module by hand).</p>
<h2 id="selecting-the-version-of-the-cpe">Selecting the version of the CPE<a class="headerlink" href="#selecting-the-version-of-the-cpe" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Selecting the version of the CPE" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/SelectingCPEVersion.png" /></p>
</figure>
<p>The version numbers of the HPE Cray PE are of the form <code>yy.dd</code>, e.g., <code>23.09</code> for the version
released in September 2023. There are several releases each year (at least 4), but not all
of them are offered on LUMI. </p>
<p>There is always a default version assigned by the sysadmins when installing the programming
environment. It is possible to change the default version for loading further modules
by loading one of the versions of the <code>cpe</code> module. E.g., assuming the 23.09 version would be
present on the system, it can be loaded through
<div class="highlight"><pre><span></span><code>module load cpe/23.09
</code></pre></div>
Loading this module will also try to switch the already loaded PE modules to the versions from
that release. This does not always work correctly, due to some bugs in most versions of this
module and a limitation of Lmod. Executing the <code>module load</code> twice will fix this:
<div class="highlight"><pre><span></span><code>module load cpe/23.09
module load cpe/23.09
</code></pre></div>
The module will also produce a warning when it is unloaded (which is also the case when you
do a <code>module load</code> of <code>cpe</code> when one is already loaded, as it then first unloads the already
loaded <code>cpe</code> module). The warning can be ignored, but keep in mind that what it says is true,
it cannot restore the environment you found on LUMI at login.</p>
<p>The <code>cpe</code> module is also not needed when using the LUMI software stacks, but more about that
later.</p>
<h2 id="the-target-modules">The target modules<a class="headerlink" href="#the-target-modules" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Target modules" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/TargetModules.png" /></p>
</figure>
<p>The target modules are used to select the CPU and GPU optimization targets and to 
select the network communication layer. </p>
<p>On LUMI there are three CPU target modules that are relevant:</p>
<ul>
<li><code>craype-x86-rome</code> selects the Zen2 CPU family code named Rome. These CPUs are
    used on the login nodes and the nodes of the data analytics and visualisation 
    partition of LUMI. However, as Zen3 is a superset of Zen2, software compiled
    to this target should run everywhere, but may not exploit the full potential
    of the LUMI-C and LUMI-G nodes (though the performance loss is likely minor).</li>
<li><code>craype-x86-milan</code> is the target module for the Zen3 CPUs code named Milan that
    are used on the CPU-only compute nodes of LUMI (the LUMI-C partition).</li>
<li><code>craype-x86-trento</code> is the target module for the Zen3 CPUs code named Trento that
    are used on the GPU compute nodes of LUMI (the LUMI-G partition).</li>
</ul>
<p>Two GPU target modules are relevant for LUMI:</p>
<ul>
<li><code>craype-accel-host</code>: Will tell some compilers to compile offload code for the host
    instead.</li>
<li><code>craype-accel-gfx90a</code>: Compile offload code for the MI200 series GPUs that are used on LUMI-G.</li>
</ul>
<p>Two network target modules are relevant for LUMI:</p>
<ul>
<li><code>craype-network-ofi</code> selects the libfabric communication layer which is needed for
    Slingshot 11.</li>
<li><code>craype-network-none</code> omits all network specific libraries.</li>
</ul>
<p>The compiler wrappers also have corresponding compiler flags that can be used to overwrite these
settings: <code>-target-cpu</code>, <code>-target-accel</code> and <code>-target-network</code>.</p>
<h2 id="prgenv-and-compiler-modules">PrgEnv and compiler modules<a class="headerlink" href="#prgenv-and-compiler-modules" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide PrgEnv and compiler modules" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/PrgEnvCompilerModules.png" /></p>
</figure>
<p>In the HPE Cray PE, the <code>PrgEnv-*</code> modules are usually used to load a specific variant of the
programming environment. These modules will load the compiler wrapper (<code>craype</code>), compiler,
MPI and LibSci module and may load some other modules also.</p>
<p>The following table gives an overview of the available <code>PrgEnv-*</code> modules and the compilers they
activate:</p>
<table>
<thead>
<tr>
<th>PrgEnv</th>
<th>Description</th>
<th>Compiler module</th>
<th>Compilers</th>
</tr>
</thead>
<tbody>
<tr>
<td>PrgEnv-cray</td>
<td>Cray Compiling Environment</td>
<td><code>cce</code></td>
<td><code>craycc</code>, <code>crayCC</code>, <code>crayftn</code></td>
</tr>
<tr>
<td>PrgEnv-gnu</td>
<td>GNU Compiler Collection</td>
<td><code>gcc</code><br/><code>gcc-native</code><sup>(*)</sup></td>
<td><code>gcc</code>, <code>g++</code>, <code>gfortran</code><br/><code>gcc-12</code>, <code>g++-12</code>, <code>gfortran-12</code></td>
</tr>
<tr>
<td>PrgEnv-aocc</td>
<td>AMD Optimizing Compilers<br>(CPU only)</td>
<td><code>aocc</code></td>
<td><code>clang</code>, <code>clang++</code>, <code>flang</code></td>
</tr>
<tr>
<td>PrgEnv-amd</td>
<td>AMD ROCm LLVM compilers <br>(GPU support)</td>
<td><code>amd</code></td>
<td><code>amdclang</code>, <code>amdclang++</code>, <code>amdflang</code></td>
</tr>
</tbody>
</table>
<p><sup>(*)</sup> See the note "Changes to the GNU compilers in 23.12".</p>
<p>There is also a second module that offers the AMD ROCm environment, <code>rocm</code>. That module
has to be used with <code>PrgEnv-cray</code> and <code>PrgEnv-gnu</code> to enable MPI-aware GPU,
hipcc with the GNU compilers or GPU support with the Cray compilers.</p>
<details class="note">
<summary>Changes to the GNU compilers in 23.12</summary>
<p>The HPE Cray PE will change the way it offers the GNU compilers in releases starting from 23.12.
Rather than packaging the GNU compilers, HPE Cray will use the default development compiler version
of SUSE Linux, which for SP4 is currently GCC 12.3 (not to be confused with the system default which
is still 7.5, the compiler that was offered with the initial release of SUSE Enterprise Linux 15).</p>
<p>In releases up to the 23.09 which we currently have on Linux, the GNU compilers are offered through the
<code>gcc</code> compiler module. When loaded, it adds newer versions of the <code>gcc</code>, <code>g++</code> and <code>gfortran</code> compilers
to the path, calling the version indicated by the version of the <code>gcc</code> module.</p>
<p>In releases from 23.12 on, that compiler module is now called <code>gcc-native</code>, and the compilers
are - at least in the version for SUSE 15 SP4 - called <code>gcc-12</code>, <code>g++-12</code> and <code>gfortran-12</code>, while
<code>gcc</code>, <code>g++</code> and <code>gfortran</code> will compile with version 7.5, the default version for SUSE 15.</p>
</details>
<h2 id="getting-help">Getting help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Getting help" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/GettingHelp.png" /></p>
</figure>
<p>Help on the HPE Cray Programming Environment is offered mostly through manual pages
and compiler flags. Online help is limited and difficult to locate.</p>
<p>For the compilers, the following man pages are relevant:</p>
<table>
<thead>
<tr>
<th>PrgEnv</th>
<th>C</th>
<th>C++</th>
<th>Fortran</th>
</tr>
</thead>
<tbody>
<tr>
<td>PrgEnv-cray</td>
<td><code>man craycc</code></td>
<td><code>man crayCC</code></td>
<td><code>man crayftn</code></td>
</tr>
<tr>
<td>PrgEnv-gnu</td>
<td><code>man gcc</code></td>
<td><code>man g++</code></td>
<td><code>man gfortran</code></td>
</tr>
<tr>
<td>PrgEnv-aocc/PrgEnv-amd</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>There used to be manual pages for the wrappers also but they are currently hijacked
by the GNU manual pages.</p>
<p>Recently, HPE Cray have also created 
<a href="https://cpe.ext.hpe.com/docs/">a web version of some of the CPE documentation</a>.</p>
<p>Some compilers also support the <code>--help</code> flag, e.g., <code>amdclang --help</code>. For the wrappers,
the switch <code>-help</code> should be used instead as the double dash version is passed to the 
compiler.</p>
<p>The wrappers have a number of options specific to them. Information about them can be obtained
by using the <code>--craype-help</code> flag with the wrappers.
The wrappers also support the <code>-dumpversion</code> flag to show the version of the underlying compiler.
Many other commands, including the actual compilers, use <code>--version</code> to show the version.</p>
<p>For Cray Fortran compiler error messages, the <code>explain</code> command is also helpful. E.g.,</p>
<div class="highlight"><pre><span></span><code>$ ftn
ftn-2107 ftn: ERROR in command line
  No valid filenames are specified on the command line.
$ explain ftn-2107

Error : No valid filenames are specified on the command line.

At least one file name must appear on the command line, with any command-line
options.  Verify that a file name was specified, and also check for an
erroneous command-line option which may cause the file name to appear to be
an argument to that option.
</code></pre></div>
<p>On older Cray systems this used to be a very useful command with more compilers but as 
HPE Cray is using more and more open source components instead there are fewer commands
that give additional documentation via the <code>explain</code> command.</p>
<p>Lastly, there is also a lot of information in the
<a href="https://docs.lumi-supercomputer.eu/development/">"Developing" section of the LUMI documentation</a>.</p>
<h2 id="google-chatgpt-and-lumi">Google, ChatGPT and LUMI<a class="headerlink" href="#google-chatgpt-and-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Google, ChatGPT and LUMI" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/ChatGPT.png" /></p>
</figure>
<p>When looking for information on the HPE Cray Programming Environment using search engines such as
Google, you'll be disappointed how few results show up. HPE doesn't put much information on the 
internet, and the environment so far was mostly used on Cray systems of which there are not that
many. </p>
<p>The same holds for ChatGPT. In fact, much of the training of the current version of ChatGPT was done
with data of two or so years ago and there is not that much suitable training data available on
the internet either.</p>
<p>The HPE Cray environment has a command line alternative to search engines though: the <code>man -K</code> command
that searches for a term in the manual pages. It is often useful to better understand some error messages.
E.g., sometimes Cray MPICH will suggest you to set some environment variable to work around some problem.
You may remember that <code>man intro_mpi</code> gives a lot of information about Cray MPICH, but if you don't and,
e.g., the error message suggests you to set <code>FI_CXI_RX_MATCH_MODE</code> to either <code>software</code> or <code>hybrid</code>, one way
to find out where you can get more information about this environment variable is</p>
<div class="highlight"><pre><span></span><code>man -K FI_CXI_RX_MATCH_MODE
</code></pre></div>
<p>The <a href="https://cpe.ext.hpe.com/docs/">online documentation</a> is now also complete enough that it makes
sense trying the search box on that page instead.</p>
<h2 id="other-modules">Other modules<a class="headerlink" href="#other-modules" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Other modules" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/OtherModules.png" /></p>
</figure>
<p>Other modules that are relevant even to users who do not do development:</p>
<ul>
<li>MPI: <code>cray-mpich</code>. </li>
<li>LibSci: <code>cray-libsci</code></li>
<li>Cray FFTW3 library: <code>cray-fftw</code></li>
<li>HDF5:<ul>
<li><code>cray-hdf5</code>: Serial HDF5 I/O library</li>
<li><code>cray-hdf5-parallel</code>: Parallel HDF5 I/O library</li>
</ul>
</li>
<li>NetCDF:<ul>
<li><code>cray-netcdf</code></li>
<li><code>cray-netcdf-hdf5parallel</code></li>
<li><code>cray-parallel-netcdf</code></li>
</ul>
</li>
<li>Python: <code>cray-python</code>, already contains a selection of packages that interface with
    other libraries of the HPE Cray PE, including mpi4py, NumPy, SciPy and pandas.</li>
<li>R: <code>cray-R</code></li>
</ul>
<p>The HPE Cray PE also offers other modules for debugging, profiling, performance analysis, etc. that
are not covered in this short version of the LUMI course. Many more are covered in the 4-day
courses for developers that we organise several times per year with the help of HPE and AMD.</p>
<h2 id="warning-1-you-do-not-always-get-what-you-expect">Warning 1: You do not always get what you expect...<a class="headerlink" href="#warning-1-you-do-not-always-get-what-you-expect" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide You do not always get what you expect" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/WarningLibraryPath.png" /></p>
</figure>
<p>The HPE Cray PE packs a surprise in terms of the libraries it uses, certainly for users
who come from an environment where the software is managed through EasyBuild, but also for most
other users.</p>
<p>The PE does not use the versions of many libraries determined by the loaded modules at runtime
but instead uses default versions of libraries (which are actually in <code>/opt/cray/pe/lib64</code> on the system)
which correspond to the version of the programming environment that is set as the system default when installed.
This is very much the behaviour of Linux applications also that pick standard libraries in a few standard
directories and it enables many programs build with the HPE Cray PE to run without reconstructing the
environment and in some cases to mix programs compiled with different compilers with ease (with the
emphasis on some as there may still be library conflicts between other libraries when not using the 
so-called rpath linking). This does have an annoying side effect though: If the default PE on the system 
changes, all applications will use different libraries and hence the behaviour of your application may 
change. </p>
<p>Luckily there are some solutions to this problem.</p>
<p>By default the Cray PE uses dynamic linking, and does not use rpath linking, which is a form of dynamic
linking where the search path for the libraries is stored in each executable separately. On Linux, the
search path for libraries is set through the environment variable <code>LD_LIBRARY_PATH</code>. Those Cray PE modules
that have their libraries also in the default location, add the directories that contain the actual version
of the libraries corresponding to the version of the module to the PATH-style environment variable
<code>CRAY_LD_LIBRARY_PATH</code>. Hence all one needs to do is to ensure that those directories are put in
<code>LD_LIBRARY_PATH</code> which is searched before the default location:
<div class="highlight"><pre><span></span><code>export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH
</code></pre></div></p>
<!-- TODO Check the following example every course -->
<details class="note">
<summary>Small demo of adapting <code>LD_LIBRARY_PATH</code>:</summary>
<p>An example that can only be fully understood after the section on the LUMI software stacks:
<div class="highlight"><pre><span></span><code>$ module load LUMI/22.08
$ module load lumi-CPEtools/1.0-cpeGNU-22.08
$ ldd $EBROOTLUMIMINCPETOOLS/bin/mpi_check
      linux-vdso.so.1 (0x00007f420cd55000)
      libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f420c929000)
      libmpi_gnu_91.so.12 =&gt; /opt/cray/pe/lib64/libmpi_gnu_91.so.12 (0x00007f4209da4000)
      ...
$ export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH
$ ldd $EBROOTLUMIMINCPETOOLS/bin/mpi_check
        linux-vdso.so.1 (0x00007fb38c1e0000)
      libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007fb38bdb4000)
      libmpi_gnu_91.so.12 =&gt; /opt/cray/pe/mpich/8.1.18/ofi/gnu/9.1/lib/libmpi_gnu_91.so.12 (0x00007fb389198000)
      ...
</code></pre></div>
The <code>ldd</code> command shows which libraries are used by an executable. Only a part of the very long
output is shown in the above example. But we can already see that in the first case, the library
<code>libmpi_gnu_91.so.12</code> is taken from <code>opt/cray/pe/lib64</code> which is the directory with the default
versions, while in the second case it is taken from <code>/opt/cray/pe/mpich/8.1.18/ofi/gnu/9.1/lib/</code>
which clearly is for a specific version of <code>cray-mpich</code>.</p>
</details>
<p>We do provide the module <code>lumi-CrayPath</code> 
that tries to fix <code>LD_LIBRARY_PATH</code> in a way that unloading
the module fixes <code>LD_LIBRARY_PATH</code> again to the state before adding <code>CRAY_LD_LIBRARY_PATH</code> and that
reloading the module adapts <code>LD_LIBRARY_PATH</code> to the current value of <code>CRAY_LD_LIBRARY_PATH</code>. Loading that
module after loading all other modules should fix this issue for most if not all software.</p>
<p>The second solution would be to use rpath-linking for the Cray PE libraries, which can be done by setting
the <code>CRAY_ADD_RPATH</code> environment variable:
<div class="highlight"><pre><span></span><code>export CRAY_ADD_RPATH=yes
</code></pre></div></p>
<p>However, there is also a good side to the standard Cray PE behaviour. Updates of the underlying
operating system or network software stack may break older versions of the MPI library. By letting
the applications use the default libraries and updating the defaults to a newer version, most
applications will still run while they would fail if any of the two tricks to force the use
of the intended library version are used. This has actually happened after a big LUMI update in
March 2023, when all software that used rpath-linking had to be rebuild as the MPICH library
that was present before the update did not longer work.</p>
<h2 id="warning-2-order-matters">Warning 2: Order matters<a class="headerlink" href="#warning-2-order-matters" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Order of loading modules" loading="lazy" src="https://462000265.lumidata.eu/2day-20240502/img/LUMI-2day-20240502-02-CPE/WarningOrderMatters.png" /></p>
</figure>
<p>Lmod is a hierarchical module scheme and this is exploited by the HPE Cray PE. Not all modules
are available right away and some only become available after loading other modules. E.g.,</p>
<ul>
<li><code>cray-fftw</code> only becomes available when a processor target module is loaded</li>
<li><code>cray-mpich</code> requires both the network target module <code>craype-network-ofi</code> and a compiler module to be loaded</li>
<li><code>cray-hdf5</code> requires a compiler module to be loaded and <code>cray-netcdf</code> in turn requires <code>cray-hdf5</code></li>
</ul>
<p>but there are many more examples in the programming environment.</p>
<p>In the next section of the course we will see how unavailable modules can still be found
with <code>module spider</code>. That command can also tell which other modules should be loaded 
before a module can be loaded, but unfortunately due to the sometimes non-standard way 
the HPE Cray PE uses Lmod that information is not always complete for the PE, which is also
why we didn't demonstrate it here.</p>
<h2 id="note-compiling-without-the-hpe-cray-pe-wrappers">Note: Compiling without the HPE Cray PE wrappers<a class="headerlink" href="#note-compiling-without-the-hpe-cray-pe-wrappers" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Slide Note: Working without the wrappers" loading="lazy" src="https://462000265.lumidata.eu/1day-20240208/img/LUMI-1day-20240208-02-CPE/NoteWrappers.png" /></p>
</figure>
<p>It is now possible to work without the HPE Cray PE compiler wrappers 
and to use the compilers in a way you may be more familiar with from other 
HPC systems. </p>
<p>In that case, you would likely want to load a compiler module without loading the 
<code>PrgEnv-*</code> module and <code>craype</code> module (which would be loaded automatically by the
<code>PrgEnv-*</code> module). The compiler module and compiler driver names are then given
by the following table:</p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Compiler module</th>
<th>Compilers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cray Compiling Environment</td>
<td><code>cce</code></td>
<td><code>craycc</code>, <code>crayCC</code>, <code>crayftn</code></td>
</tr>
<tr>
<td>GNU Compiler Collection</td>
<td><code>gcc</code><br><code>gcc-native</code></td>
<td><code>gcc</code>, <code>g++</code>, <code>gfortran</code><br><code>gcc-12</code>, <code>g++-12</code>, <code>gfortran-12</code></td>
</tr>
<tr>
<td>AMD Optimizing Compilers<br>(CPU only)</td>
<td><code>aocc</code></td>
<td><code>clang</code>, <code>clang++</code>, <code>flang</code></td>
</tr>
<tr>
<td>AMD ROCm LLVM compilers <br>(GPU support)</td>
<td><code>amd</code></td>
<td><code>amdclang</code>, <code>amdclang++</code>, <code>amdflang</code></td>
</tr>
</tbody>
</table>
<p>Recent versions of the <code>cray-mpich</code> module now also provide the traditional MPI compiler wrappers
such as <code>mpicc</code>, <code>mpicxx</code> or <code>mpifort</code>. Note that you will still need to ensure that the network
target module <code>craype-network-ofi</code> is loaded to be able to load the <code>cray-mpich</code> module!
The <code>cray-mpich</code> module also defines the environment variable <code>MPICH_DIR</code> that points to the
MPI installation for the selected compiler.</p>
<p>To manually use the BLAS and LAPACK libraries, you'll still have to load the <code>cray-libsci</code> module.
This module defines the <code>CRAY_LIBSCI_PREFIX_DIR</code> environment variable that points to the directory
with the library and include file subdirectories for the selected compiler.
(This environment variable will be renamed to <code>CRAY_PE_LIBSCI_PREFIX_DIR</code> in release 23.12 of the programming
environment.) 
See <a href="https://cpe.ext.hpe.com/docs/csml/cray_libsci.html">the <code>intro_libsci</code> manual page</a>
for information about the different libraries.</p>
<p>To be able to use the <code>cray-fftw</code> FFTW libraries, you still need to load the right CPU target module,
even though you need to specify the target architecture yourself now when calling the compilers. 
This is because the HPE Cray PE does not come with a multi-cpu version of the FFTW libraries, but 
specific versions for each CPU (or sometimes group of similar CPUs). Here again some environment
variables may be useful to point the compiler and linker to the installation: <code>FFTW_ROOT</code> for the 
root of the installation for the specific CPU (the library is otherwise compiler-independent),
<code>FFTW_INC</code> for the subdirectory with the include files and <code>FFTW_DIR</code> for the directory with the
libraries.</p>
<p>Other modules that you may want to use also typically define some useful environment variables.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        




<footer class="md-footer">

  

  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      
    <div class="md-footer-copyright">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" 
             style="border-width:0" 
             src="https://i.creativecommons.org/l/by/4.0/80x15.png"
        />
      </a>
      This work is licensed under a&nbsp;
      <a rel="license" 
         href="http://creativecommons.org/licenses/by/4.0/"
      >
        Creative Commons Attribution 4.0 International License
      </a>
    </div>

      
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UCb31KOJ6Wqu0sRpIRi_k8Mw" target="_blank" rel="noopener" title="LUMI on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/lumi-supercomputer" target="_blank" rel="noopener" title="LUMI on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/LUMIhpc" target="_blank" rel="noopener" title="LUMI on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "navigation.indexes", "header.autohide", "toc.follow", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>