


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lumi-supercomputer.github.io/LUMI-training-materials/2day-20241210/11-Containers/">
      
      
      
      
      <link rel="icon" href="../../assets/favicon-LUMI.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Containers on LUMI-C and LUMI-G - LUMI training materials</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--demo:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 192h176V0h-16C71.6 0 0 71.6 0 160zm0 32v128c0 88.4 71.6 160 160 160h64c88.4 0 160-71.6 160-160V224H0m384-32v-32C384 71.6 312.4 0 224 0h-16v192z"/></svg>');--md-admonition-icon--exercise:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M78.6 5c-9.5-7.4-23-6.5-31.6 2L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4H158l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3L192 158v-54.1c0-7.5-3.5-14.5-9.4-19zM19.9 396.1C7.2 408.8 0 426.1 0 444.1 0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9l117.8-117.8c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7zM512 144c0-10.5-1.1-20.7-3.2-30.5-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7L352 176c-8.8 0-16-7.2-16-16v-57.4c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0c-79.5 0-144 64.5-144 144v.8l85.3 85.3c36-9.1 75.8.5 104 28.7l15.7 15.7c49-23 83-72.8 83-130.5M56 432a24 24 0 1 1 48 0 24 24 0 1 1-48 0"/></svg>');--md-admonition-icon--remark:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 448c141.4 0 256-93.1 256-208S397.4 32 256 32 0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9-1.9 24.5-11.4 46.3-21.4 62.9-5.5 9.2-11.1 16.6-15.2 21.6-2.1 2.5-3.7 4.4-4.9 5.7-.6.6-1 1.1-1.3 1.4l-.3.3c-4.6 4.6-5.9 11.4-3.4 17.4s8.3 9.9 14.8 9.9c28.7 0 57.6-8.9 81.6-19.3 22.9-10 42.4-21.9 54.3-30.6 31.8 11.5 67 17.9 104.1 17.9zM128 208a32 32 0 1 1 0 64 32 32 0 1 1 0-64m128 0a32 32 0 1 1 0 64 32 32 0 1 1 0-64m96 32a32 32 0 1 1 64 0 32 32 0 1 1-64 0"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32M208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0m152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80M48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48m544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224z"/></svg>');--md-admonition-icon--audience:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M72 88a56 56 0 1 1 112 0 56 56 0 1 1-112 0m-8 157.7c-10 11.2-16 26.1-16 42.3s6 31.1 16 42.3v-84.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5V416c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32v-26.8C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112h32c24 0 46.2 7.5 64.4 20.3zM448 416v-21.5c20-24.7 32-56.2 32-90.5 0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176h32c61.9 0 112 50.1 112 112 0 44.7-26.2 83.2-64 101.2V416c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32m8-328a56 56 0 1 1 112 0 56 56 0 1 1-112 0m120 157.7v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128m-80 272c0 16.2 6 31 16 42.3v-84.7c-10 11.3-16 26.1-16 42.3zm144-42.3v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zm64 42.3c0 44.7-26.2 83.2-64 101.2V448c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32v-42.8c-37.8-18-64-56.5-64-101.2 0-61.9 50.1-112 112-112h32c61.9 0 112 50.1 112 112"/></svg>');--md-admonition-icon--solution:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M234.7 42.7 197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1 14.1 37.7c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2l-37.7-14.1L263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0l381.3-381.4c18.7-18.7 18.7-49.1 0-67.9l-34.6-34.5c-18.7-18.7-49.1-18.7-67.9 0zM484.6 82.6l-105 105-23.3-23.3 105-105zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L64 96zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352z"/></svg>');--md-admonition-icon--technical:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M160 96a96 96 0 1 1 192 0 96 96 0 1 1-192 0m80 152v264l-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427V224c0-17.7 14.3-32 32-32h30.3c63.6 0 125.6 19.6 177.7 56m32 264V248c52.1-36.4 114.1-56 177.7-56H480c17.7 0 32 14.3 32 32v203c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3z"/></svg>');--md-admonition-icon--intermediate:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9V320c0 28.4-10.8 57.7-22.3 80.8-6.5 13-13.9 25.8-22.5 37.6-3.2 4.3-4.1 9.9-2.3 15s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7.3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7-3.2-14.2-7.5-28.7-13.5-42v-24.6c0-30.2 10.2-58.7 27.9-81.5 12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5.8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1l280.6-101c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1c-7.6-2.7-15.6-4.1-23.7-4.1M128 408c0 35.3 86 72 192 72s192-36.7 192-72l-15.3-145.4L354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6l-142.2-51.4z"/></svg>');--md-admonition-icon--advanced:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M219.3.5c3.1-.6 6.3-.6 9.4 0l200 40C439.9 42.7 448 52.6 448 64s-8.1 21.3-19.3 23.5L352 102.9V160c0 70.7-57.3 128-128 128S96 230.7 96 160v-57.1l-48-9.6v65.1l15.7 78.4c.9 4.7-.3 9.6-3.3 13.3S52.8 256 48 256H16c-4.8 0-9.3-2.1-12.4-5.9s-4.3-8.6-3.3-13.3L16 158.4V86.6C6.5 83.3 0 74.3 0 64c0-11.4 8.1-21.3 19.3-23.5zM111.9 327.7c10.5-3.4 21.8.4 29.4 8.5l71 75.5c6.3 6.7 17 6.7 23.3 0l71-75.5c7.6-8.1 18.9-11.9 29.4-8.5 65 20.9 112 81.7 112 153.6 0 17-13.8 30.7-30.7 30.7H30.7C13.8 512 0 498.2 0 481.3c0-71.9 47-132.7 111.9-153.6"/></svg>');--md-admonition-icon--lumi-be:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 0C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h96v-80c0-26.5 21.5-48 48-48s48 21.5 48 48v80h96c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm16 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16m80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16zM80 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16m80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16M448 0c-17.7 0-32 14.3-32 32v480h64V192h144c8.8 0 16-7.2 16-16V48c0-8.8-7.2-16-16-16H480c0-17.7-14.3-32-32-32"/></svg>');--md-admonition-icon--nice-to-know:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M297.2 248.9c14.4-20.6 22.8-45.7 22.8-72.9 0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9 3.7 5.3 8.1 11.3 12.8 17.7 12.9 17.7 28.3 38.9 39.8 59.8 10.4 19 15.7 38.8 18.3 57.5l-48.7.1c-2.2-12-5.9-23.7-11.8-34.5-9.9-18-22.2-34.9-34.5-51.8-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176 16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3-5 7.2-10.2 14.3-15.4 21.4-12.3 16.8-24.6 33.7-34.5 51.8-5.9 10.8-9.6 22.5-11.8 34.5h-48.6c2.6-18.7 7.9-38.6 18.3-57.5 11.5-20.9 26.9-42.1 39.8-59.8 4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48 0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80 8.8 0 16 7.2 16 16s-7.2 16-16 16m0 384c-44.2 0-80-35.8-80-80v-16h160v16c0 44.2-35.8 80-80 80"/></svg>');}</style>



    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/neoteroi-mkdocs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.body.addEventListener("click", function(ev) {
        if (ev.target instanceof HTMLElement) {
          var el = ev.target.closest("a[href^=http]")
          if (el)
            ga("send", "event", "outbound", "click", el.href)
        }
      })
    })
  </script>

    
    

  
  
  
    
  

  
  

  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LUMI training materials - Containers on LUMI-C and LUMI-G" />
  <meta property="og:description" content="None" />
  <meta property="og:url" content="https://lumi-supercomputer.github.io/LUMI-training-materials/2day-20241210/11-Containers/" />
  <meta property="og:image" content="https://lumi-supercomputer.github.io/LUMI-training-materials/assets/images/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@LUMIhpc" />
  <meta name="twitter:creator" content="@LUMIhpc" />
  <meta name="twitter:title" content="LUMI training materials - Containers on LUMI-C and LUMI-G" />
  <meta name="twitter:description" content="None" />
  <meta name="twitter:image" content="https://lumi-supercomputer.github.io/LUMI-training-materials/assets/images/banner.png" />

  <style>
    [data-md-color-primary="lumi"] {
      --md-primary-fg-color: hsla(0, 0%, 100%, 1);
      --md-primary-fg-color--light: hsla(0, 0%, 100%, 0.7);
      --md-primary-fg-color--dark: hsla(0, 0%, 0%, 0.07);
      --md-primary-bg-color: hsla(0, 0%, 0%, 0.87);
      --md-primary-bg-color--light: hsla(0, 0%, 0%, 0.54);
      --md-button-bg-color: hsla(207,100%,28%, 1);
      --md-button-bg-color--light: hsla(207,100%,38%, 1);
      --md-typeset-a-color: hsla(207,100%,28%, 1);
    }
    
    [data-md-color-accent="lumi"] {
      --md-accent-fg-color: hsla(0,0%,0%, 1);
      --md-accent-fg-color--transparent: hsla(0,0%,0%, 0.1);
      --md-accent-bg-color: hsla(0, 0%, 100%, 1);
      --md-accent-bg-color--light: hsla(0, 0%, 100%, 0.7);
    }
  </style>

  


  
  

    <link
      rel="stylesheet"
      href="../../assets/stylesheets/extra-50959fdd9a.css"
    />
    <link
      rel="stylesheet"
      href="../../assets/stylesheets/overrides-5193e6f6df.css"
    />
    <link
      rel="stylesheet"
      id="typekit-fonts-css"
      href="https://use.typekit.net/nlo5lta.css?ver=5.5.3"
      type="text/css" media="all"
    />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lumi" data-md-color-accent="lumi">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#containers-on-lumi-c-and-lumi-g" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LUMI training materials" class="md-header__button md-logo" aria-label="LUMI training materials" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LUMI training materials
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Containers on LUMI-C and LUMI-G
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LUMI training materials" class="md-nav__button md-logo" aria-label="LUMI training materials" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    LUMI training materials
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Updates/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Updates
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Updates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Updates/Update-202409/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    August-September 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            August-September 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202409/202409_FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202409/202409_Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation links
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202311/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    October-November 2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Updates/Update-202308/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    August 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            August 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/lumig-lownoise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Low-noise mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/lumig-devg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dev-g and eap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../User-Updates/Update-202308/responsible-use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Responsible use
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../User-Coffee-Breaks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Coffee Breaks
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Coffee Breaks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../2p3day-20250303/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LUMI intensive March 2025
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            LUMI intensive March 2025
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2p3day-20250303/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2p3day-20250303/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai-20250204/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI workshop February 2025
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            AI workshop February 2025
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-20250204/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-20250204/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Supercomputing with LUMI December 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Supercomputing with LUMI December 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20241028/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advanced LUMI October 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Advanced LUMI October 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4day-20241028/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4day-20241028/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Hackathon-20241014/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Hackathon October 2024
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Hackathon October 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Profiling-20241009/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Profiling October 2024
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Profiling October 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../paow-20240611/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Performance Analysis & Optimization June 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Performance Analysis & Optimization June 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../paow-20240611/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../paow-20240611/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Partner courses
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Partner courses
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://zenodo.org/records/10610643" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS workshop 2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai-20241126/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI workshop November 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_1" id="__nav_12_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_1">
            <span class="md-nav__icon md-icon"></span>
            AI workshop November 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-20241126/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-20241126/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../2day-20240502/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Supercomputing with LUMI May 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_2" id="__nav_12_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_2">
            <span class="md-nav__icon md-icon"></span>
            Supercomputing with LUMI May 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2day-20240502/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2day-20240502/index.html#course-materials" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course materials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai-20240529/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AI workshop May 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_3" id="__nav_12_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_3">
            <span class="md-nav__icon md-icon"></span>
            AI workshop May 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-20240529/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20240423/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI April 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_4" id="__nav_12_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI April 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4day-20240423/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20240208/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day February 2024
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_5" id="__nav_12_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_5">
            <span class="md-nav__icon md-icon"></span>
            1-day February 2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_01_LUMI_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_02_HPE_Cray_Programming_Environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_03_Modules_on_LUMI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_04_LUMI_Software_Stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_06_Running_Jobs_on_LUMI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_08_Introduction_to_Lustre_and_Best_Practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/video_09_LUMI_User_Support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20240208/A01_Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Profiling-20231122/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Profiling November 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_6">
            <span class="md-nav__icon md-icon"></span>
            Profiling November 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20231003/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI October 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_7">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI October 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20230921/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day September 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_8" id="__nav_12_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_8">
            <span class="md-nav__icon md-icon"></span>
            1-day September 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/01_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/02_CPE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/03_Modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/04_Software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/06_Running_jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/08_Lustre_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/09_LUMI_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230921/A01_Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20230530/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI May-June 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_9">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI May-June 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../1day-20230509/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    1-day May 2023
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_10" id="__nav_12_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_10">
            <span class="md-nav__icon md-icon"></span>
            1-day May 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/01_Architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/02_CPE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPE Cray PE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/03_Modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/04_Software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software stacks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/05_Exercises_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/06_Running_jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/07_Exercises_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/08_Lustre_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O and file systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1day-20230509/09_LUMI_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Hackathon-20230417/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Hackathon April 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_11">
            <span class="md-nav__icon md-icon"></span>
            Hackathon April 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Profiling-20230413/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Profiling April 2013
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_12">
            <span class="md-nav__icon md-icon"></span>
            Profiling April 2013
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../4day-20230214/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Comprehensive LUMI February 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_13">
            <span class="md-nav__icon md-icon"></span>
            Comprehensive LUMI February 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../LUMI-G-20230111/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LUMI-G January 2023
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_14">
            <span class="md-nav__icon md-icon"></span>
            LUMI-G January 2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_15" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../PEAP-Q-20221123/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    PEAP-Q November 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_15" id="__nav_12_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_15">
            <span class="md-nav__icon md-icon"></span>
            PEAP-Q November 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20221123/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_16" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../LUMI-G-20220823/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    LUMI-G August 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_16" id="__nav_12_16_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_16">
            <span class="md-nav__icon md-icon"></span>
            LUMI-G August 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LUMI-G-20220823/hackmd_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hackmd notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_17" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../EasyBuild-CSC-20220509/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EasyBuild May 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_17" id="__nav_12_17_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_17">
            <span class="md-nav__icon md-icon"></span>
            EasyBuild May 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://klust.github.io/easybuild-tutorial/2022-CSC_and_LO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_18" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../PEAP-Q-20220427/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    PEAP-Q April 2022
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_18" id="__nav_12_18_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_18">
            <span class="md-nav__icon md-icon"></span>
            PEAP-Q April 2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20220427/hackmd_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hackmd notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PEAP-Q-20220427/software_stacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LUMI Software Stacks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-are-we-talking-about-in-this-chapter" class="md-nav__link">
    <span class="md-ellipsis">
      What are we talking about in this chapter?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-do-containers-not-provide" class="md-nav__link">
    <span class="md-ellipsis">
      What do containers not provide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#but-what-can-they-then-do-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      But what can they then do on LUMI?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Managing containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interacting-with-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Interacting with containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-containers-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      Running containers on LUMI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enhancements-to-the-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Enhancements to the environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enhancements to the environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bindings-for-singularity" class="md-nav__link">
    <span class="md-ellipsis">
      Bindings for singularity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vnc-container" class="md-nav__link">
    <span class="md-ellipsis">
      VNC container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cotainr-build-conda-containers-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      cotainr: Build Conda containers on LUMI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-wrapper-for-python-packages-and-conda" class="md-nav__link">
    <span class="md-ellipsis">
      Container wrapper for Python packages and conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-built-ai-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-built AI containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-ai-containers-complicated-way-without-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Running the AI containers - complicated way without modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-containers-through-easybuild-generated-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Running the containers through EasyBuild-generated modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-distributed-learning-without-using-easybuild" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Distributed learning without using EasyBuild
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-distributed-learning-with-the-easybuild-generated-module" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Distributed learning with the EasyBuild-generated module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-the-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extending the containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extending-the-container-with-cotainr" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the container with cotainr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-the-container-with-the-singularity-unprivileged-proot-build" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the container with the singularity unprivileged proot build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-the-container-through-a-python-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the container through a Python virtual environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion-container-limitations-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion: Container limitations on LUMI
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="containers-on-lumi-c-and-lumi-g">Containers on LUMI-C and LUMI-G<a class="headerlink" href="#containers-on-lumi-c-and-lumi-g" title="Permanent link">&para;</a></h1>
<h2 id="what-are-we-talking-about-in-this-chapter">What are we talking about in this chapter?<a class="headerlink" href="#what-are-we-talking-about-in-this-chapter" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Containers on LUMI" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersIntro.png" /></p>
</figure>
<p>Let's now switch to using containers on LUMI. 
This section is about using containers on the login nodes and compute nodes. 
Some of you may have heard that there were plans to also have an OpenShift Kubernetes container cloud
platform for running microservices but at this point it is not clear if and when this will materialize
due to a lack of personpower to get this running and then to support this.</p>
<p>In this section, we will </p>
<ul>
<li>
<p>discuss what to expect from containers on LUMI: what can they do and what can't they do,</p>
</li>
<li>
<p>discuss how to get a container on LUMI,</p>
</li>
<li>
<p>discuss how to run a container on LUMI,</p>
</li>
<li>
<p>discuss some enhancements we made to the LUMI environment that are based on containers or help
    you use containers,</p>
</li>
<li>
<p>and pay some attention to the use of some of our pre-built AI containers.</p>
<p>If you are interested in doing AI on LUMI, we highly recommend that you have a look at our
<a href="https://lumi-supercomputer.github.io/AI-latest/">AI course materials</a>.</p>
</li>
</ul>
<p>Remember though that the compute nodes of LUMI are an HPC infrastructure and not a container cloud!</p>
<h2 id="what-do-containers-not-provide">What do containers not provide<a class="headerlink" href="#what-do-containers-not-provide" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="What do containers not provide" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersNotProvide.png" /></p>
</figure>
<p>What is being discussed in this subsection may be a bit surprising.
Containers are often marketed as a way to provide reproducible science and as an easy way to transfer
software from one machine to another machine. However, containers are neither of those and this becomes 
very clear when using containers build on your typical Mellanox/NVIDIA InfiniBand based clusters with
Intel processors and NVIDIA GPUs on LUMI. This is only true if you transport software between 
sufficiently similar machines (which is why they do work very well in, e.g., the management nodes
of a cluster, or a server farm).</p>
<p>First, computational results are almost never 100% reproducible because of the very nature of how computers
work. If you use any floating point computation, you can only expect reproducibility of sequential codes 
between equal hardware. As soon as you change the
CPU type, some floating point computations may produce slightly different results, and as soon as you go parallel
this may even be the case between two runs on exactly the same hardware and with exactly the same software. 
Besides, by the very nature of 
floating point computations, you know that the results are wrong if you really want to work with
real numbers. What matters is understanding how wrong the results are
and reproduce results that fall within expected error margins for the computation. This is no different from
reproducing a lab experiment where, e.g., each measurement instrument introduces errors.
The only thing that containers do reproduce very well, is your software stack. But not without problems:</p>
<p>Containers are certainly not performance portable unless they have been designed to run optimally on a range of hardware
and your hardware falls into that range. E.g., without proper support for the
interconnect it may still run but in a much slower mode. But one should also realise that speed gains in the x86
family over the years come to a large extent from adding new instructions to the CPU set, and that two processors
with the same instructions set extensions may still benefit from different optimisations by the compilers. 
Not using the proper instruction set extensions can have a lot of influence. At my local site we've seen GROMACS 
doubling its speed by choosing proper options, and the difference can even be bigger.</p>
<p>Many HPC sites try to build software as much as possible from sources to exploit the available hardware as much as 
possible. You may not care much about 10% or 20% performance difference on your PC, but 20% on a 160 million EURO
investment represents 32 million EURO and a lot of science can be done for that money...</p>
<p>But even full portability is a myth, even if you wouldn't care much about performance (which is already a bad
idea on an infrastructure as expensive as LUMI). Containers are really only guaranteed to be portable between similar systems.
When well built, they are more portable than just a binary as you may be able to deal with missing or different libraries
in the container, but that is where it ends. Containers are usually built for a particular CPU architecture and GPU
architecture, two elements where everybody can easily see that if you change this, the container will not run. But 
there is in fact more: containers talk to other hardware too, and on an HPC system the first piece of hardware that comes
to mind is the interconnect. And they use the kernel of the host and the kernel modules and drivers provided by that
kernel. Those can be a problem. A container that is not build to support the SlingShot interconnect, may fall back to
TCP sockets in MPI, completely killing scalability. Containers that expect the knem kernel extension for good 
intra-node MPI performance may not run as efficiently as LUMI uses xpmem instead.</p>
<p>So the "bring your own userland and run it on a system-optimised kernel" idea that proponents of containers promote,
has two major flaws</p>
<ol>
<li>
<p>Every set of userland libraries comes with certain expectations for kernel versions, kernel drivers and their 
    versions, etc. If these expectations are not met, the container may not work at all or may work inefficiently.</p>
</li>
<li>
<p>Support for specific hardware is not done in the kernel alone. Most of the support for hardware, is actually 
    in userland. E.g., part of the support for the SlingShot network, is in the libfabric library and its CXI
    provider, which are userland elements. Container promoters will tell you that is not a problem and that you
    can inject those libraries in the container, but the reality is that that strategy not always works, as the
    library you have on the system may not be the right version for the container, or may need other libraries 
    that conflict with the versions in the container.</p>
<p>And obviously support for a specific instruction set, is also 
in userland. If a binary is not compiled to benefit from the additional speed of new instructions in a 
newer architecture, no container runtime can inject that support.</p>
</li>
</ol>
<h2 id="but-what-can-they-then-do-on-lumi">But what can they then do on LUMI?<a class="headerlink" href="#but-what-can-they-then-do-on-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="But what can they then do on LUMI?" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersCanDoOnLUMI.png" /></p>
</figure>
<ul>
<li>
<p>A very important reason to use containers on LUMI is reducing the pressure on the file system by software
    that accesses many thousands of small files (Python and R users, you know who we are talking about).
    That software kills the metadata servers of almost any parallel file system when used at scale.</p>
<p>As a container on LUMI is a single file, the metadata servers of the parallel file system have far less 
work to do, and all the file caching mechanisms can also work much better.</p>
</li>
<li>
<p>Software installations that would otherwise be impossible. 
    E.g., some software may not even be suited for installation in
    a multi-user HPC system as it uses fixed paths that are not compatible with installation in 
    module-controlled software stacks.
    HPC systems want a lightweight <code>/usr</code> etc. structure as that part of the system
    software is often stored in a RAM disk, and to reduce boot times. Moreover, different users may need
    different versions of a software library so it cannot be installed in its default location in the system
    software region. However, some software is ill-behaved and cannot be relocated to a different directory,
    and in these cases containers help you to build a private installation that does not interfere with other
    software on the system.</p>
<p>They are also of interest if compiling the software takes too much work while any processor-specific
optimisation that could be obtained by compiling oneself, isn't really important. E.g., if a full
stack of GUI libraries is needed, as they are rarely the speed-limiting factor in an application.</p>
</li>
<li>
<p>As an example, Conda installations are not appreciated on the main Lustre file system.</p>
<p>On one hand, Conda installations tend to generate lots of small files (and then even more due to a linking
strategy that does not work on Lustre). So they need to be containerised just for storage manageability.</p>
<p>They also re-install lots of libraries that may already be on the system in a different version. 
The isolation offered by a container environment may be a good idea to ensure that all software picks up the
right versions.</p>
</li>
<li>
<p>An example of software that is usually very hard to install is a GUI application, as they tend 
    to have tons of dependencies and recompiling can be tricky. Yet rather often the binary packages
    that you can download cannot be installed wherever you want, so a container can come to the rescue.</p>
</li>
<li>
<p>Another example where containers have proven to be useful on LUMI is to experiment with newer versions
    of ROCm than we can offer on the system. </p>
<p>This often comes with limitations though, as (a) that ROCm version is still limited by the drivers on the 
system and (b) we've seen incompatibilities between newer ROCm versions and the Cray MPICH libraries.</p>
</li>
<li>
<p>And a combination of both: LUST with the help of AMD have prepared some containers with popular AI applications.
    These containers use some software from Conda, a newer ROCm version installed through RPMs, and some 
    performance-critical code that is compiled specifically for LUMI.</p>
</li>
<li>
<p>Isolation is often considered as an advantage of containers also. The isolation helps
    preventing that software picks up libraries it should not pick up. In a context with 
    multiple services running on a single server, it limits problems when the security of a container
    is compromised to that container. However, it also comes with a big disadvantage in an
    HPC context: Debugging and performance profiling also becomes a lot harder.</p>
<p>In fact, with the current state of container technology, it is often a pain also when running MPI applications
as it would be much better to have only a single container per node, running MPI inside the container at the
node level and then between containers on different nodes.</p>
</li>
</ul>
<p>Remember though that whenever you use containers, you are the system administrator and not LUST. We can impossibly
support all different software that users want to run in containers, and all possible Linux distributions they may
want to run in those containers. We provide some advice on how to build a proper container, but if you chose to
neglect it it is up to you to solve the problems that occur.</p>
<h2 id="managing-containers">Managing containers<a class="headerlink" href="#managing-containers" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Managing containers" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersManaging_1.png" /></p>
</figure>
<p>On LUMI, we currently support only one container runtime.</p>
<p>Docker is not available, and will never be on the regular compute nodes as it requires elevated privileges
to run the container which cannot be given safely to regular users of the system.</p>
<p>Singularity is currently the only supported container runtime and is available on the login nodes and
the compute nodes. It is a system command that is installed with the OS, so no module has to be loaded
to enable it. We can also offer only a single version of singularity or its close cousin AppTainer 
as singularity/AppTainer simply don't really like running multiple versions next to one another, 
and currently the version that
we offer is determined by what is offered by the OS. Currently we offer 
<a href="https://docs.sylabs.io/guides/4.1/user-guide/">Singularity Community Edition 4.1.3</a>.</p>
<p>To work with containers on LUMI you will either need to pull the container from a container registry,
e.g., <a href="https://hub.docker.com/">DockerHub</a>, bring in the container either by creating a tarball from a
docker container on the remote system and then converting that to the singularity <code>.sif</code> format on LUMI
or by copying the singularity <code>.sif</code> file, or use those container build features of singularity 
that can be supported on LUMI within the security constraints
(which is why there are no user namespaces on LUMI).</p>
<p>Singularity does offer a command to pull in a Docker container and to convert it to singularity format.
E.g., to pull a container for the Julia language from DockerHub, you'd use</p>
<div class="highlight"><pre><span></span><code>singularity<span class="w"> </span>pull<span class="w"> </span>docker://julia
</code></pre></div>
<p>Singularity uses a single flat sif file for storing containers. The <code>singularity pull</code> command does the 
conversion from Docker format to the singularity format.</p>
<p>Singularity caches files during pull operations and that may leave a mess of files in
the <code>.singularity</code> cache directory. This can lead to <strong>exhaustion of your disk quota for your
home directory</strong>. So you may want to use the environment variable <code>SINGULARITY_CACHEDIR</code>
to put the cache in, e.g,, your scratch space (but even then you want to clean up after the
pull operation so save on your storage billing units).</p>
<details class="demo" open="open">
<summary>Demo singularity pull</summary>
<p>Let's try the <code>singularity pull docker://julia</code> command:</p>
<p><!-- Used a 105x23 window size -->
<figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity pull slide 1" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExamplePull_1.png" />
</figure></p>
<p>We do get a lot of warnings but usually this is perfectly normal and usually they can be safely ignored.</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity pull slide 2" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExamplePull_2.png" />
</figure></p>
<p>The process ends with the creation of the file <code>jula_latest.sif</code>. </p>
<p>Note however that the process has left a considerable number of files in <code>~/.singularity</code> also:</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity pull slide 3" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExamplePull_3.png" />
</figure></p>
</details>
<figure style="border: 1px solid #000">
<p><img alt="Managing containers (2)" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersManaging_2.png" /></p>
</figure>
<p>There is currently limited support for building containers on LUMI and I do not expect that to change quickly.
Container build strategies that require elevated privileges, and even those that require user namespaces, cannot
be supported for security reasons (as user namespaces in Linux are riddled with security issues). 
Enabling features that are known to have had several serious security vulnerabilities in the recent past, or that
themselves are unsecure by design and could allow users to do more on the system than a regular user should
be able to do, will never be supported.</p>
<p>So you should pull containers from a container repository, or build the container on your own workstation
and then transfer it to LUMI.</p>
<p>There is some support for building on top of an existing singularity container using what the SingularityCE user guide
calls <a href="https://docs.sylabs.io/guides/4.1/user-guide/build_a_container.html#unprivilged-proot-builds">"unprivileged proot builds"</a>.
This requires loading the <code>proot</code> command which is provided by the <code>systools</code> module
in CrayEnv or LUMI/23.09 or later. The SingularityCE user guide
<a href="https://docs.sylabs.io/guides/4.1/user-guide/build_a_container.html#unprivilged-proot-builds">mentions several restrictions of this process</a>.
The general guideline from the manual is: "Generally, if your definition file starts from an existing SIF/OCI container image, 
and adds software using system package managers, an unprivileged proot build is appropriate. 
If your definition file compiles and installs large complex software from source, 
you may wish to investigate <code>--remote</code> or <code>--fakeroot</code> builds instead." But as we just said,
on LUMI we cannot yet
provide <code>--fakeroot</code> builds due to security constraints.</p>
<!-- TODO: Do not forget to correct the link above to a new version of singularity. -->

<p>We are also working on a number of base images to build upon, where the base images are tested with the
OS kernel on LUMI (and some for ROCm are already there).</p>
<h2 id="interacting-with-containers">Interacting with containers<a class="headerlink" href="#interacting-with-containers" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Interacting with containers" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersInteracting.png" /></p>
</figure>
<p>There are basically three ways to interact with containers.</p>
<p>If you have the sif file already on the system you can enter the container with an interactive shell:</p>
<div class="highlight"><pre><span></span><code>singularity shell container.sif
</code></pre></div>
<details class="demo" open="open">
<summary>Demo singularity shell</summary>
<p><figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity shell" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleShell.png" />
</figure></p>
<p>In this screenshot we checked the contents of the <code>/opt</code> directory before and after the
<code>singularity shell julia_latest.sif</code> command. This shows that we are clearly in a different
environment. Checking the <code>/etc/os-release</code> file only confirms this as LUMI runs SUSE Linux
on the login nodes, not a version of Debian.</p>
</details>
<p>The second way is to execute a command in the container with <code>singularity exec</code>. E.g., assuming the 
container has the <code>uname</code> executable installed in it,</p>
<div class="highlight"><pre><span></span><code>singularity exec container.sif uname -a
</code></pre></div>
<details class="demo" open="open">
<summary>Demo singularity exec</summary>
<p><figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity exec" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleExec.png" />
</figure></p>
<p>In this screenshot we execute the <code>uname -a</code> command before and with the
<code>singularity exec julia_latest.sif</code> command. There are some slight differences in the
output though the same kernel version is reported as the container uses the host kernel.
Executing</p>
<div class="highlight"><pre><span></span><code>singularity exec julia_latest.sif cat /etc/os-release
</code></pre></div>
<p>confirms though that the commands are executed in the container.</p>
</details>
<p>The third option is often called running a container, which is done with singularity run:</p>
<div class="highlight"><pre><span></span><code>singularity run container.sif
</code></pre></div>
<p>It does require the container to have a special script that tells singularity what 
running a container means. You can check if it is present and what it does with <code>singularity inspect</code>: </p>
<div class="highlight"><pre><span></span><code>singularity inspect --runscript container.sif
</code></pre></div>
<details class="demo" open="open">
<summary>Demo singularity run</summary>
<p><figure markdown style="border: 1px solid #000">
  <img alt="Demo singularity run" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleRun.png" />
</figure></p>
<p>In this screenshot we start the julia interface in the container using
<code>singularity run</code>. The second command shows that the container indeed
includes a script to tell singularity what <code>singularity run</code> should do.</p>
</details>
<p>You want your container to be able to interact with the files in your account on the system.
Singularity will automatically mount <code>$HOME</code>, <code>/tmp</code>, <code>/proc</code>, <code>/sys</code> and <code>/dev</code> in the container,
but this is not enough as your home directory on LUMI is small and only meant to be used for
storing program settings, etc., and not as your main work directory. (And it is also not billed
and therefore no extension is allowed.) Most of the time you want to be able to access files in
your project directories in <code>/project</code>, <code>/scratch</code> or <code>/flash</code>, or maybe even in <code>/appl</code>.
To do this you need to tell singularity to also mount these directories in the container,
either using the 
<code>--bind src1:dest1,src2:dest2</code> 
flag or via the <code>SINGULARITY_BIND</code> or <code>SINGULARITY_BINDPATH</code> environment variables.
E.g.,</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SINGULARITY_BIND</span><span class="o">=</span><span class="s1">&#39;/pfs,/scratch,/projappl,/project,/flash&#39;</span>
</code></pre></div>
<p>will ensure that you have access to the scratch, project and flash directories of your project.</p>
<p>For some containers that are provided by the LUMI User Support Team, modules are also available that 
set <code>SINGULARITY_BINDPATH</code> so that all necessary system libraries are available in the container and
users can access all their files using the same paths as outside the container.</p>
<h2 id="running-containers-on-lumi">Running containers on LUMI<a class="headerlink" href="#running-containers-on-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="/running containers on LUMI" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersRunning.png" /></p>
</figure>
<p>Just as for other jobs, you need to use Slurm to run containers on the compute nodes.</p>
<p>For MPI containers one should use <code>srun</code> to run the <code>singularity exec</code> command, e.g,,</p>
<div class="highlight"><pre><span></span><code>srun singularity exec --bind ${BIND_ARGS} \
${CONTAINER_PATH} mp_mpi_binary ${APP_PARAMS}
</code></pre></div>
<p>(and replace the environment variables above with the proper bind arguments for <code>--bind</code>, container file and
parameters for the command that you want to run in the container).</p>
<p>On LUMI, the software that you run in the container should be compatible with Cray MPICH, i.e., use the
MPICH ABI (currently Cray MPICH is based on MPICH 3.4). It is then possible to tell the container to use
Cray MPICH (from outside the container) rather than the MPICH variant installed in the container, so that
it can offer optimal performance on the LUMI Slingshot 11 interconnect.</p>
<p>Open MPI containers are currently not well supported on LUMI and we do not recommend using them.
We only have a partial solution for the CPU nodes that is not tested in all scenarios, 
and on the GPU nodes Open MPI is very problematic at the moment.
This is due to some design issues in the design of Open MPI, and also to some piece of software
that recent versions of Open MPI require but that HPE only started supporting recently on Cray EX systems
and that we haven't been able to fully test.
Open MPI has a slight preference for the UCX communication library over the OFI libraries, and 
until version 5 full GPU support requires UCX. Moreover, binaries using Open MPI often use the so-called
rpath linking process so that it becomes a lot harder to inject an Open MPI library that is installed
elsewhere. The good news though is that the Open MPI developers of course also want Open MPI
to work on biggest systems in the USA, and all three currently operating or planned exascale systems
use the Slingshot 11 interconnect, so work is going on for better support for OFI in general and 
Cray Slingshot in particular and for full GPU support.</p>
<h2 id="enhancements-to-the-environment">Enhancements to the environment<a class="headerlink" href="#enhancements-to-the-environment" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Environment enhancements" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersEnvironmentEnhancement_1.png" /></p>
</figure>
<p>To make life easier, LUST with the support of CSC did implement some modules
that are either based on containers or help you run software with containers.</p>
<h3 id="bindings-for-singularity">Bindings for singularity<a class="headerlink" href="#bindings-for-singularity" title="Permanent link">&para;</a></h3>
<p>The <strong><code>singularity-bindings/system</code></strong> module which can be installed via EasyBuild
helps to set <code>SINGULARITY_BIND</code> and <code>SINGULARITY_LD_LIBRARY_PATH</code> to use 
Cray MPICH. Figuring out those settings is tricky, and sometimes changes to the
module are needed for a specific situation because of dependency conflicts
between Cray MPICH and other software in the container, which is why we don't
provide it in the standard software stacks but instead make it available as
an EasyBuild recipe that you can adapt to your situation and install.</p>
<p>As it needs to be installed through EasyBuild, it is really meant to be 
used in the context of a LUMI software stack (so not in <code>CrayEnv</code>).
To find the EasyConfig files, load the <code>EasyBuild-user</code> module and 
run</p>
<div class="highlight"><pre><span></span><code>eb --search singularity-bindings
</code></pre></div>
<p>You can also check the 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/s/singularity-bindings/">page for the <code>singularity-bindings</code> in the LUMI Software Library</a>.</p>
<p>You may need to change the EasyConfig for your specific purpose though.
E.g., the singularity command line option <code>--rocm</code> to import the ROCm installation
from the system doesn't fully work (and in fact, as we have alternative ROCm versions
on the system cannot work in all cases) but that can also be fixed by extending
the <code>singularity-bindings</code> module 
(or by just manually setting the proper environment variables).</p>
<h3 id="vnc-container">VNC container<a class="headerlink" href="#vnc-container" title="Permanent link">&para;</a></h3>
<p>The second tool is a container that we provide with some bash functions
to start a VNC server as one way to run GUI programs and as an alternative to 
the (currently more sophisticated) VNC-based GUI desktop setup offered in Open OnDemand
(see the <a href="../03-Access/#access">"Getting Access to LUMI notes"</a>).
It can be used in <code>CrayEnv</code> or in the LUMI stacks through the
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/l/lumi-vnc/"><strong><code>lumi-vnc</code></strong> module</a>. 
The container also
contains a poor men's window manager (and yes, we know that there are sometimes
some problems with fonts). It is possible to connect to the VNC server either
through a regular VNC client on your PC or a web browser, but in both cases you'll
have to create an ssh tunnel to access the server. Try</p>
<div class="highlight"><pre><span></span><code>module help lumi-vnc
</code></pre></div>
<p>for more information on how to use <code>lumi-vnc</code>.</p>
<p>For most users, the Open OnDemand web interface and tools offered in that interface will
be a better alternative.</p>
<h3 id="cotainr-build-conda-containers-on-lumi">cotainr: Build Conda containers on LUMI<a class="headerlink" href="#cotainr-build-conda-containers-on-lumi" title="Permanent link">&para;</a></h3>
<figure style="border: 1px solid #000">
<p><img alt="Environment enhancements (2)" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersEnvironmentEnhancement_2.png" /></p>
</figure>
<p>The third tool is <a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/c/cotainr/"><strong><code>cotainr</code></strong></a>, 
a tool developed by DeIC, the Danish partner in the LUMI consortium.
It is a tool to pack a Conda installation into a container. It runs entirely in user space and doesn't need
any special rights. (For the container specialists: It is based on the container sandbox idea to build
containers in user space.)</p>
<p>Containers build with <code>cotainr</code> are used just as other containers, so through the <code>singularity</code> commands discussed
before.</p>
<!-- BELGIUM 
!!! Note "AI course"
    The `cotainr` tool is also used extensively in the 
    [AI workshop that the LUMI User Support Team](https://lumi-supercomputer.github.io/AI-latest) 
    organises from time to time. 
    It is used in that course to build containers
    with AI software on top of some 
    [ROCm<sup>TM</sup> containers that we provide](https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/r/rocm/). A link to the course material of that training was
    not yet available at the time of writing.
-->

<!-- GENERAL More general version -->
<div class="admonition note">
<p class="admonition-title">AI course</p>
<p>The <code>cotainr</code> tool is also used extensively in our 
<a href="https://lumi-supercomputer.github.io/AI-latest">AI training/workshop</a> 
to build containers with AI software on top of some 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/r/rocm/">ROCm<sup>TM</sup> containers that we provide</a>. </p>
</div>
<h3 id="container-wrapper-for-python-packages-and-conda">Container wrapper for Python packages and conda<a class="headerlink" href="#container-wrapper-for-python-packages-and-conda" title="Permanent link">&para;</a></h3>
<p>The fourth tool is a container wrapper tool that users from Finland may also know
as <a href="https://docs.csc.fi/computing/containers/tykky/">Tykky</a> (the name on their national systems). 
It is a tool to wrap Python and conda installations in a container and then
create wrapper scripts for the commands in the bin subdirectory so that for most
practical use cases the commands can be used without directly using singularity
commands. 
Whereas cotainr fully exposes the container to users and its software is accessed
through the regular singularity commands, Tykky tries to hide this complexity with
wrapper scripts that take care of all bindings and calling singularity.
On LUMI, it is provided by the <strong><code>lumi-container-wrapper</code></strong>
module which is available in the <code>CrayEnv</code> environment and in the LUMI software stacks.</p>
<p>The tool can work in four modes:</p>
<ol>
<li>
<p>It can create a conda environment based on a Conda environment file and create
    wrapper scripts for that installation.</p>
</li>
<li>
<p>It can install a number of Python packages via <code>pip</code> and create wrapper scripts. On LUMI,
    this is done on top of one of the <code>cray-python</code> modules that already contain
    optimised versions of NumPy, SciPy and pandas. Python packages are specified
    in a <code>requirements.txt</code> file used by <code>pip</code>.</p>
</li>
<li>
<p>It can do a combination of both of the above: Install a Conda-based Python 
    environment and in one go also install a number of additional Python packages
    via <code>pip</code>. </p>
</li>
<li>
<p>The fourth option is to use the container wrapper to create wrapper scripts for
    commands in an existing container.</p>
</li>
</ol>
<p>For the first three options, the container wrapper will then perform the installation 
in a work directory, create some wrapper commands in the <code>bin</code> subdirectory of the directory 
where you tell the container wrapper tool to do the installation, 
and it will use SquashFS to create as single file
that contains the conda or Python installation. So strictly speaking it does not create a 
container, but a SquashFS file that is then mounted in a small existing base container. 
However, the wrappers created for all commands in the <code>bin</code> subdirectory of the conda or
Python installation take care of doing the proper bindings. If you want to use the container
through singularity commands however, you'll have to do that mounting by hand, including 
mounting the SquashFS file on the right directory in the container.</p>
<p>Note that the wrapper scripts may seem transparent, but running a script that contains
the wrapper commands outside the container may have different results from running the
same script inside the container. After all, the script that runs outside the 
container sees a different environment than the same script running inside the container.</p>
<!-- Likely wrong
The reason is that each of the wrapper commands 
internally still call singularity to run the command in the container, and singularity
does not pass the whole environment to the container, but only environment variables
that are explicitly defined to be passed to the container by prepending their name with
`SINGULARITYENV_`. E.g., when running AI application such as PyTorch, several environment
variables need to be set in advance and doing so with the regular names would not work
with the wrapper scripts.
-->

<p>We do strongly recommend to use cotainr or the container wrapper tool for larger conda and Python installation.
We will not raise your file quota if it is to house such installation in your <code>/project</code> directory.</p>
<details class="demo" open="open">
<summary>Demo lumi-container-wrapper for a Conda installation</summary>
<p>Create a subdirectory to experiment. In that subdirectory, create a file named <code>env.yml</code> with
the content:</p>
<div class="highlight"><pre><span></span><code>channels:
  - conda-forge
dependencies:
  - python=3.8.8
  - scipy
  - nglview
</code></pre></div>
<p>and create an empty subdirectory <code>conda-cont-1</code>.</p>
<p>Now you can follow the commands on the slides below:</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 1" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_1.png" />
</figure></p>
<p>On the slide above we prepared the environment.</p>
<p>Now lets run the command </p>
<div class="highlight"><pre><span></span><code>conda-containerize new --prefix ./conda-cont-1 env.yml
</code></pre></div>
<p>and look at the output that scrolls over the screen.
The screenshots don't show the full output as some parts of the screen get overwritten during
the process:</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 2" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_2.png" />
</figure></p>
<p>The tool will first build the conda installation in a tempororary work directory
and also uses a base container for that purpose.</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 3" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_3.png" />
</figure></p>
<p>The conda installation itself though is stored in a SquashFS file that is then
used by the container.</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 4" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_4.png" />
</figure></p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 65" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_5.png" />
</figure></p>
<p>In the slide above we see the installation contains both a singularity container
and a SquashFS file. They work together to get a working conda installation.</p>
<p>The <code>bin</code> directory seems to contain the commands, but these are in fact scripts 
that run those commands in the container with the SquashFS file system mounted in it.</p>
<p><figure markdown style="border: 1px solid #000">
  <img alt="demo lumi-container-wrapper slide 6" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersExampleWrapper_6.png" />
</figure></p>
<p>So as you can see above, we can simply use the <code>python3</code> command without realising
what goes on behind the screen...</p>
</details>
<div class="admonition info">
<p class="admonition-title">Relevant documentation for <code>lumi-container-wrapper</code></p>
<ul>
<li><a href="https://docs.lumi-supercomputer.eu/software/installing/container-wrapper/">Page in the main LUMI documentation</a></li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/l/lumi-container-wrapper/"><code>lumi-container-wrapper</code> in the LUMI Software Library</a></li>
<li><a href="https://docs.csc.fi/computing/containers/tykky/">Tykky page in the CSC documentation</a> </li>
</ul>
</div>
<h3 id="pre-built-ai-containers">Pre-built AI containers<a class="headerlink" href="#pre-built-ai-containers" title="Permanent link">&para;</a></h3>
<figure style="border: 1px solid #000">
<p><img alt="Environment enhancements (3): Prebuilt AI containers" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersPrebuiltAI.png" /></p>
</figure>
<p>LUST with the help of AMD is also building some containers with popular AI software.
These containers contain a ROCm version that is appropriate for the software,
use Conda for some components, but have several of the performance critical components
built specifically for LUMI for near-optimal performance. Depending on the software they
also contain a RCCL library with the appropriate plugin to work well on the Slingshot 11
interconnect, or a horovod compiled to use Cray MPICH. </p>
<p>Some of the containers can be provided through a module that is user-installable with EasyBuild.
That module sets the <code>SINGULARITY_BIND</code> environment variable
to ensure proper bindings (as they need, e.g., the libfabric library from the system and the proper
"CXI provider" for libfabric to connect to the Slingshot interconnect). The module will also provide
an environment variable to refer to the container (name with full path) to make it easy to refer to
the container in job scripts. Some of the modules also provide some scripts that may make using the containers easier in some standard scenarios. Alternatively, the user support team is also working
on some modules for users who want to run the containers as manually as possible yet want an 
easy way to deal with the necessary bindings of user file systems and HPE Cray PE components needed
from the system (see also <a href="https://lumi-supercomputer.github.io/AI-latest/">course materials for the AI training/workshop</a>).</p>
<p>These containers can be found through the
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/">LUMI Software Library</a> and are marked
with a container label.
At the time of the course, there are containers for</p>
<ul>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/p/PyTorch/">PyTorch</a>, which is the best tested and most developed one,</li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/t/TensorFlow/">TensorFlow</a>,</li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/j/jax/">JAX</a>,</li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/a/AlphaFold/">AlphaFold</a>,</li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/r/rocm/">ROCm</a> and</li>
<li><a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/m/mpi4py/">mpi4py</a>.</li>
</ul>
<h2 id="running-the-ai-containers-complicated-way-without-modules">Running the AI containers - complicated way without modules<a class="headerlink" href="#running-the-ai-containers-complicated-way-without-modules" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Running the AI containers without EasyBuild-generated module" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAiComplicated.png" /></p>
</figure>
<p>The containers that we provide have everything they need to use RCCL and/or MPI on LUMI.
It is not needed to use the <code>singularity-bindings/system</code> module described earlier as that module
tries to bind too much external software to the container.</p>
<p>Yet to be able to properly use the containers, users do need to take care of some bindings</p>
<ul>
<li>
<p>Some system directories and libraries have to be bound to the container:</p>
<div class="highlight"><pre><span></span><code>-B /var/spool/slurmd,/opt/cray,/usr/lib64/libcxi.so.1,/usr/lib64/libjansson.so.4
</code></pre></div>
<p>The first one is needed to work together with Slurm. The second one contains the MPI and libfabric library.
The third one is the actual component that binds libfabric to the Slingshot network adapter and is called 
the CXI provider, and the last one is a library that is needed by some LUMI system libraries but not (yet) in the
container.</p>
</li>
<li>
<p>By default your home directory will be available in the container, but as your home directory is not your
    main workspace, you may want to bind your subdirectory in <code>/project</code>, <code>/scratch</code> and/or <code>/flash</code> also, using, e.g.,</p>
<div class="highlight"><pre><span></span><code>-B /pfs,/scratch,/projappl,/project,/flash
</code></pre></div>
</li>
</ul>
<p>There are also a number of components that may need further initialisation:</p>
<ul>
<li>
<p>The MIOpen library has problems with file/record locking on Lustre so some environment variables
    are needed to move some work directories.</p>
</li>
<li>
<p>RCCL needs to be told the right network interfaces to use as otherwise it tends to take the interface
    to the management network of the cluster instead and gets stuck.</p>
</li>
<li>
<p>GPU-aware MPI also needs to be set up (see <a href="../02-CPE/#gpu-aware-mpi">earlier in the course</a>)</p>
</li>
<li>
<p>Your AI package may need some environment variables too (e.g., 
    <code>MASTER_ADDR</code> and <code>MASTER_PORT</code> for distributed learning with PyTorch)</p>
</li>
</ul>
<p>Moreover, most (if not all at the moment) containers that we provide with Python packages, are
built using Conda to install Python. When entering those containers, conda needs to be activated.
The containers are built in such a way that the environment variable <code>WITH_CONDA</code> provides the 
necessary command, so in most cases you only need to run </p>
<div class="highlight"><pre><span></span><code>$WITH_CONDA
</code></pre></div>
<p>as a command in the script that is executed in the container or on the command line.</p>
<h2 id="running-the-containers-through-easybuild-generated-modules">Running the containers through EasyBuild-generated modules<a class="headerlink" href="#running-the-containers-through-easybuild-generated-modules" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Running the AI containers with EasyBuild-generated module - slide 1" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIEasyBuild_1.png" /></p>
</figure>
<p>Doing all those initialisations, is a burden. Therefore we provide EasyBuild recipes to "install" the containers
and to provide a module that helps setting environment variables in the initialisation.</p>
<p>For packages for which we know generic usage patterns, we provide some scripts that do most settings.
We may have to drop that though, as sometimes there are simply too many scenarios and promoting a particular
one too much may mislead users and encourage them to try to map their problem on an approach which
may be less efficient than theirs.
When using the module, those scripts will be available in the <code>/runscripts</code> directory in the container,
but are also in a subdirectory on the Lustre file system. So in principle you can even edit them or
add your own scripts, though they would be erased if you reinstall the module with EasyBuild.</p>
<p>They also define a number of environment variables that make life easier. E.g., the <code>SINGULARITY_BINDPATH</code> 
environment variable is already set to bind the necessary files and directories from the system and to
make sure that your project, scratch and flash spaces are available at the same location as on LUMI so
that even symbolic links in those directories should still work.</p>
<p>Some container modules also set up a pre-configured virtual environment to add your own packages.
The virtual environment can be found in the container in a subdirectory of <code>/user-software/venv</code>. To install
packages from within the container, this directory needs to be writeable which is done by binding <code>/user-software</code> to the
<code>$CONTAINERROOT/user-software</code> subdirectory outside the container.
If you add a lot of packages that way, you re-create the filesystem issues that the container is supposed to
solve, but we have a solution for that also. These containers provide the <code>make-squashfs</code> command to generate
a SquashFS file from the installation that will be used by the container instead next time the module for 
the container is reloaded. And in case you prefer to fully delete the <code>user-software</code> subdirectory afterwards
from <code>$CONTAINERROOT</code>, it can be re-created using <code>unmake-squashfs</code> so that you can add further packages.
You can also use <code>/user-software</code> to install software in other ways from within the container and can
basically create whatever subdirectory you want into it. 
This is basically automating the procedure described
in the <a href="../../ai-20241126/extra_07_VirtualEnvironments/">"Extending containers with virtual environments for faster testing" lecture</a>
or our AI training.</p>
<p>These containers with pre-configured virtual environment offer another advantage also: The module injects a number
of environment variables into the container so that it is no longer needed to activate the conda environment and
Python virtual environment by sourcing scripts.</p>
<p>In fact, someone with EasyBuild experience may even help you to further extend the recipe that we provide to already
install extra packages, and we provide an example of how to do that with 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/p/PyTorch/">our PyTorch containers</a>.</p>
<figure style="border: 1px solid #000">
<p><img alt="Running the AI containers with EasyBuild-generated module - slide 2" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIEasyBuild_2.png" /></p>
</figure>
<p>Installing the EasyBuild recipes for those containers is also done via the <code>EasyBuild-user</code> module,
but it is best to use a special trick. There is a special partition called <code>partition/container</code> that is
only used to install those containers and when using that partition for the installation, the container
will be available in all versions of the LUMI stack and in the CrayEnv stack.</p>
<p>Installation is as simple as, e.g., </p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>LUMI<span class="w"> </span>partition/container<span class="w"> </span>EasyBuild-user
eb<span class="w"> </span>PyTorch-2.2.0-rocm-5.6.1-python-3.10-singularity-20240315.eb
</code></pre></div>
<p>Before running it is best to clean up (<code>module purge</code>) or take a new shell to avoid conflicts with 
environment variables provided by other modules.</p>
<p>The installation with EasyBuild will make a copy from the <code>.sif</code> Singularity container image file
that we provide somewhere in <code>/appl/local/containers</code>
to the software installation subdirectory of your <code>$EBU_USER_PREFIX</code> EasyBuild installation directory.
These files are big and you may wish to delete that file which is easily done: After loading the container
module, the environment variable <code>SIF</code> contains the name with full path of the container file. 
After removing the container file from your personal software directory, you need to reload the container
module and from then on, <code>SIF</code> will point to the corresponding container in 
<code>/appl/local/containers/easybuild-sif-images</code>.
We don't really recommend removing the container image though and certainly not if you are interested
in reproducibility. We may remove the image in <code>/appl/local/containers/easybuild-sif-images</code>
without prior notice if we notice that the container has too many problems, e.g., after a system
update. But that same container that doesn't work well for others, may work well enough for you that
you don't want to rebuild whatever environment you built with the container.</p>
<h2 id="example-distributed-learning-without-using-easybuild">Example: Distributed learning without using EasyBuild<a class="headerlink" href="#example-distributed-learning-without-using-easybuild" title="Permanent link">&para;</a></h2>
<p><strong>To really run this example, some additional program files and data files are needed that
are not explained in this text. You can find more information on the 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/p/PyTorch">PyTorch page in the LUMI Software Library</a>.</strong></p>
<figure style="border: 1px solid #000">
<p><img alt="Example: Distributed learning with PyTorch, no EasyBuild-generated module - slide 1" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIExampleNoEasyBuild_1.png" /></p>
</figure>
<p>We'll need to create a number of scripts before we can even run the container. The job script
alone is not enough as there are also per-task initialisations needed that cannot be done
directly in the job script. In this example, we run the script that does the per-task
initialisations in the container, but it is also possible to do this outside the container
which would give access to the Slurm commands and may even simplify a bit. </p>
<p>If you want to know more about running AI loads on LUMI, we strongly recommend to take a look
at the <a href="http://lumi-supercomputer.github.io/AI-latest/">course materials of the AI course</a>.
Basically, running AI on AMD GPUs is not that different from NIVIDA GPUs, but there are some
initialisations that are different. The main difference may be the difference between cloud
environments, clusters with easy access to the compute nodes and clusters like LUMI that require
you to always go through the resource manager if you want access to a compute node.</p>
<p>The first script is a Python program to extract the name of the master node from a Slurm environment
variable. Store it in <code>get-master.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_parser</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Extract master node name from Slurm node list&quot;</span><span class="p">,</span>
            <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentDefaultsHelpFormatter</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;nodelist&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Slurm nodelist&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">get_parser</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="n">first_nodelist</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">nodelist</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="s1">&#39;[&#39;</span> <span class="ow">in</span> <span class="n">first_nodelist</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">first_nodelist</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">)</span>
        <span class="n">first_node</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">first_node</span> <span class="o">=</span> <span class="n">first_nodelist</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">first_node</span><span class="p">)</span>
</code></pre></div>
<figure style="border: 1px solid #000">
<p><img alt="Example: Distributed learning with PyTorch, no EasyBuild-generated module - slide 2" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIExampleNoEasyBuild_2.png" /></p>
</figure>
<p>Second, we need a script that we will run in the container. Store the script as
<code>run-pytorch.sh</code>:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash -e</span>

<span class="c1"># Make sure GPUs are up</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SLURM_LOCALID</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>rocm-smi
<span class="k">fi</span>
sleep<span class="w"> </span><span class="m">2</span>

<span class="c1"># !Remove this if using an image extended with cotainr or a container from elsewhere.!</span>
<span class="c1"># Start conda environment inside the container</span>
<span class="nv">$WITH_CONDA</span>

<span class="c1"># MIOPEN needs some initialisation for the cache as the default location</span>
<span class="c1"># does not work on LUMI as Lustre does not provide the necessary features.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MIOPEN_USER_DB_PATH</span><span class="o">=</span><span class="s2">&quot;/tmp/</span><span class="k">$(</span>whoami<span class="k">)</span><span class="s2">-miopen-cache-</span><span class="nv">$SLURM_NODEID</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MIOPEN_CUSTOM_CACHE_DIR</span><span class="o">=</span><span class="nv">$MIOPEN_USER_DB_PATH</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SLURM_LOCALID</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>rm<span class="w"> </span>-rf<span class="w"> </span><span class="nv">$MIOPEN_USER_DB_PATH</span>
<span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$MIOPEN_USER_DB_PATH</span>
<span class="k">fi</span>
sleep<span class="w"> </span><span class="m">2</span>

<span class="c1"># Optional! Set NCCL debug output to check correct use of aws-ofi-rccl (these are very verbose)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NCCL_DEBUG</span><span class="o">=</span>INFO
<span class="nb">export</span><span class="w"> </span><span class="nv">NCCL_DEBUG_SUBSYS</span><span class="o">=</span>INIT,COLL

<span class="c1"># Set interfaces to be used by RCCL.</span>
<span class="c1"># This is needed as otherwise RCCL tries to use a network interface it has</span>
<span class="c1"># no access to on LUMI.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NCCL_SOCKET_IFNAME</span><span class="o">=</span>hsn0,hsn1,hsn2,hsn3
<span class="c1"># Next line not needed anymore in ROCm 6.2. You may see PHB also instead of 3, which is equivalent </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NCCL_NET_GDR_LEVEL</span><span class="o">=</span><span class="m">3</span>

<span class="c1"># Set ROCR_VISIBLE_DEVICES so that each task uses the proper GPU</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ROCR_VISIBLE_DEVICES</span><span class="o">=</span><span class="nv">$SLURM_LOCALID</span>

<span class="c1"># Report affinity to check</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Rank </span><span class="nv">$SLURM_PROCID</span><span class="s2"> --&gt; </span><span class="k">$(</span>taskset<span class="w"> </span>-p<span class="w"> </span><span class="nv">$$</span><span class="k">)</span><span class="s2">; GPU </span><span class="nv">$ROCR_VISIBLE_DEVICES</span><span class="s2">&quot;</span>

<span class="c1"># The usual PyTorch initialisations (also needed on NVIDIA)</span>
<span class="c1"># Note that since we fix the port ID it is not possible to run, e.g., two</span>
<span class="c1"># instances via this script using half a node each.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MASTER_ADDR</span><span class="o">=</span><span class="k">$(</span>python<span class="w"> </span>get-master.py<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SLURM_NODELIST</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MASTER_PORT</span><span class="o">=</span><span class="m">29500</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">WORLD_SIZE</span><span class="o">=</span><span class="nv">$SLURM_NPROCS</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">RANK</span><span class="o">=</span><span class="nv">$SLURM_PROCID</span>

<span class="c1"># Run app</span>
<span class="nb">cd</span><span class="w"> </span>/workdir/mnist
python<span class="w"> </span>-u<span class="w"> </span>mnist_DDP.py<span class="w"> </span>--gpu<span class="w"> </span>--modelpath<span class="w"> </span>model
</code></pre></div>
<p>The script needs to be executable.</p>
<p>The script sets a number of environment variables. Some are fairly standard when using PyTorch
on an HPC cluster while others are specific for the LUMI interconnect and architecture or the 
AMD ROCm environment. We notice a number of things:</p>
<ul>
<li>
<p>At the start we just print some information about the GPU. We do this only ones on each node
    on the process which is why we test on <code>$SLURM_LOCALID</code>, which is a numbering starting from 0
    on each node of the job:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SLURM_LOCALID</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>rocm-smi
<span class="k">fi</span>
sleep<span class="w"> </span><span class="m">2</span>
</code></pre></div>
</li>
<li>
<p>The container uses a Conda environment internally. So to make the right version of Python
    and its packages availabe, we need to activate the environment. The precise command to
    activate the environment is stored in <code>$WITH_CONDA</code> and we can just call it by specifying
    the variable as a bash command.</p>
</li>
<li>
<p>The <code>MIOPEN_</code> environment variables are needed to make 
    <a href="https://rocm.docs.amd.com/projects/MIOpen/en/latest/">MIOpen</a> create its caches on <code>/tmp</code>
    as doing this on Lustre fails because of file locking issues:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MIOPEN_USER_DB_PATH</span><span class="o">=</span><span class="s2">&quot;/tmp/</span><span class="k">$(</span>whoami<span class="k">)</span><span class="s2">-miopen-cache-</span><span class="nv">$SLURM_NODEID</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MIOPEN_CUSTOM_CACHE_DIR</span><span class="o">=</span><span class="nv">$MIOPEN_USER_DB_PATH</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SLURM_LOCALID</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>rm<span class="w"> </span>-rf<span class="w"> </span><span class="nv">$MIOPEN_USER_DB_PATH</span>
<span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$MIOPEN_USER_DB_PATH</span>
<span class="k">fi</span>
</code></pre></div>
<p>These caches are used to store compiled kernels.</p>
</li>
<li>
<p>It is also essential to tell RCCL, the communication library, which network adapters to use. 
    These environment variables start with <code>NCCL_</code> because ROCm tries to keep things as similar as
    possible to NCCL in the NVIDIA ecosystem:</p>
<div class="highlight"><pre><span></span><code>export NCCL_SOCKET_IFNAME=hsn0,hsn1,hsn2,hsn3
export NCCL_NET_GDR_LEVEL=3
</code></pre></div>
<p>Without this RCCL may try to use a network adapter meant for system management rather than
inter-node communications!</p>
</li>
<li>
<p>We also set <code>ROCR_VISIBLE_DEVICES</code> to ensure that each task uses the proper GPU.
    This is again based on the local task ID of each Slurm task.</p>
</li>
<li>
<p>Furthermore some environment variables are needed by PyTorch itself that are also needed on
    NVIDIA systems.</p>
<p>PyTorch needs to find the master for communication which is done through the
<code>get-master.py</code> script that we created before:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MASTER_ADDR</span><span class="o">=</span><span class="k">$(</span>python<span class="w"> </span>get-master.py<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SLURM_NODELIST</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MASTER_PORT</span><span class="o">=</span><span class="m">29500</span>
</code></pre></div>
<p><strong>As we fix the port number here, the <code>conda-python-distributed</code> script that we provide, 
has to run on exclusive nodes.
Running, e.g., 2 4-GPU jobs on the same node with this command will not work as there will be
a conflict for the TCP port for communication on the master as <code>MASTER_PORT</code> is hard-coded in 
this version of the script.</strong></p>
</li>
</ul>
<figure style="border: 1px solid #000">
<p><img alt="Example: Distributed learning with PyTorch, no EasyBuild-generated module - slide 3" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIExampleNoEasyBuild_3.png" /></p>
</figure>
<p>And finally you need a job script that you can then submit with <code>sbatch</code>. Lets call it <code>my-job.sh</code>:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash -e</span>
<span class="c1">#SBATCH --nodes=4</span>
<span class="c1">#SBATCH --gpus-per-node=8</span>
<span class="c1">#SBATCH --tasks-per-node=8</span>
<span class="c1">#SBATCH --output=&quot;output_%x_%j.txt&quot;</span>
<span class="c1">#SBATCH --partition=standard-g</span>
<span class="c1">#SBATCH --mem=480G</span>
<span class="c1">#SBATCH --time=00:10:00</span>
<span class="c1">#SBATCH --account=project_&lt;your_project_id&gt;</span>

<span class="nv">CONTAINER</span><span class="o">=</span>your-container-image.sif

<span class="nv">c</span><span class="o">=</span>fe
<span class="nv">MYMASKS</span><span class="o">=</span><span class="s2">&quot;0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">000000000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00000000000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">0000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">0000000000&quot;</span>

srun<span class="w"> </span>--cpu-bind<span class="o">=</span>mask_cpu:<span class="nv">$MYMASKS</span><span class="w"> </span><span class="se">\</span>
singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-B<span class="w"> </span>/var/spool/slurmd<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-B<span class="w"> </span>/opt/cray<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-B<span class="w"> </span>/usr/lib64/libcxi.so.1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-B<span class="w"> </span>/usr/lib64/libjansson.so.4<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-B<span class="w"> </span><span class="nv">$PWD</span>:/workdir<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">$CONTAINER</span><span class="w"> </span>/workdir/run-pytorch.sh
</code></pre></div>
<p>The important parts here are:</p>
<ul>
<li>
<p>We start PyTorch via <code>srun</code> and this is recommended. The <code>torchrun</code> command is not supported 
    on LUMI, as is any other process starter that can be found in AI software that uses ssh
    to start processes on other nodes rather than going via the resource manager (with, e.g., 
    <code>srun</code>).</p>
</li>
<li>
<p>We also use a 
    particular CPU mapping so that each rank can use the corresponding GPU number (which is taken care of in the 
    <code>run-pytorch.sh</code> script). 
    We use the
    <a href="http://localhost:8000/LUMI-training-materials/2day-20241210/08-Binding/#linear-assignment-of-gcd-then-match-the-cores">"Linear assignment of GCD, then match the cores" strategy</a>.</p>
</li>
<li>
<p>Note the bindings. In this case we do not even bind the full <code>/project</code>, <code>/scratch</code> and <code>/flash</code> subdirectories,
    but simply make the current subdirectory that we are using outside the container available as <code>/workdir</code> in 
    the container. This also implies that any non-relative symbolic link or any relative symbolic link that takes
    you out of the current directory and its subdirectories, will not work, which is awkward as you may want
    several libraries to run from to have simultaneous jobs, but, e.g., don't want to copy your dataset to
    each of those directories.</p>
</li>
</ul>
<h2 id="example-distributed-learning-with-the-easybuild-generated-module">Example: Distributed learning with the EasyBuild-generated module<a class="headerlink" href="#example-distributed-learning-with-the-easybuild-generated-module" title="Permanent link">&para;</a></h2>
<p><strong>To really run this example, some additional program files and data files are needed that
are not explained in this text. You can find more information on the 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/p/PyTorch">PyTorch page in the LUMI Software Library</a>.</strong></p>
<figure style="border: 1px solid #000">
<p><img alt="Example: Distributed learning with PyTorch, using an EasyBuild-generated module" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/RunningAIExampleEasyBuild.png" /></p>
</figure>
<p>It turns out that the first two above scripts in the example above, are fairly generic.
Therefore the module provides a slight variant of the second script, now called <code>conda-python-distributed</code>,
that at the end calls python, passing it all arguments it got and hence can be used to start other Python code also.
It is in <code>$CONTAINERROOT/runscripts</code> or in the container as <code>/runscripts</code>.</p>
<p>As the module also takes care of bindings, the job script is simplified to</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash -e</span>
<span class="c1">#SBATCH --nodes=4</span>
<span class="c1">#SBATCH --gpus-per-node=8</span>
<span class="c1">#SBATCH --tasks-per-node=8</span>
<span class="c1">#SBATCH --output=&quot;output_%x_%j.txt&quot;</span>
<span class="c1">#SBATCH --partition=standard-g</span>
<span class="c1">#SBATCH --mem=480G</span>
<span class="c1">#SBATCH --time=00:10:00</span>
<span class="c1">#SBATCH --account=project_&lt;your_project_id&gt;</span>

module<span class="w"> </span>load<span class="w"> </span>LUMI<span class="w">  </span><span class="c1"># Which version doesn&#39;t matter, it is only to get the container.</span>
module<span class="w"> </span>load<span class="w"> </span>PyTorch/2.2.0-rocm-5.6.1-python-3.10-singularity-20240315

<span class="nv">c</span><span class="o">=</span>fe
<span class="nv">MYMASKS</span><span class="o">=</span><span class="s2">&quot;0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">000000000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00000000000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">0000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">00000000,0x</span><span class="si">${</span><span class="nv">c</span><span class="si">}</span><span class="s2">0000000000&quot;</span>

<span class="nb">cd</span><span class="w"> </span>mnist
srun<span class="w"> </span>--cpu-bind<span class="o">=</span>mask_cpu:<span class="nv">$MYMASKS</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>singularity<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="nv">$SIFPYTORCH</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>conda-python-distributed<span class="w"> </span>-u<span class="w"> </span>mnist_DDP.py<span class="w"> </span>--gpu<span class="w"> </span>--modelpath<span class="w"> </span>model
</code></pre></div>
<p>So basically you only need to take care of the proper CPU bindings where we again use the
<a href="http://localhost:8000/LUMI-training-materials/2day-20241210/08-Binding/#linear-assignment-of-gcd-then-match-the-cores">"Linear assignment of GCD, then match the cores" strategy</a>.</p>
<h2 id="extending-the-containers">Extending the containers<a class="headerlink" href="#extending-the-containers" title="Permanent link">&para;</a></h2>
<p>We can never provide all software that is needed for every user in our containers. 
But there are several mechanisms that can be used to
extend the containers that we provide:</p>
<h3 id="extending-the-container-with-cotainr">Extending the container with <code>cotainr</code><a class="headerlink" href="#extending-the-container-with-cotainr" title="Permanent link">&para;</a></h3>
<figure style="border: 1px solid #000">
<p><img alt="Extending containers with cotainr" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ExtendingCotainr.png" /></p>
</figure>
<p>The LUMI Software Library offers some <a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/r/rocm/">container images for ROCm<sup>TM</sup></a>.
Though these images can be used simply to experiment with different versions of ROCm, an important use of those images is as base images
for the <a href="https://docs.lumi-supercomputer.eu/software/containers/singularity/#building-containers-using-the-cotainr-tool">cotainr tool</a>
that supports Conda to install software in the container.</p>
<p>Some care is needed though when you want to build your own AI containers. You need to ensure that binaries for AMD GPUs are used,
as by default you may get served NVIDIA-only binaries. MPI can also be a problem, as the base image does not yet provide,
e.g., a properly configures <code>mpi4py</code> (which would likely be installed in a way that conflicts with <code>cotainr</code>).</p>
<p>The container images that we provide can be found in the following directories on LUMI:</p>
<ul>
<li>
<p><code>/appl/local/containers/sif-images</code>: Symbolic link to the latest version of the container for each ROCm version provided. 
    Those links can change without notice!</p>
</li>
<li>
<p><code>/appl/local/containers/tested-containers</code>: Tested containers provided as a Singularity .sif file and a docker-generated tarball. 
    Containers in this directory are removed quickly when a new version becomes available.</p>
</li>
<li>
<p><code>/appl/local/containers/easybuild-sif-images</code> : Singularity .sif images used with the EasyConfigs that we provide. 
    They tend to be available for a longer time than in the other two subdirectories.</p>
</li>
</ul>
<p>First you need to create a yaml file to tell Conda which is called by <code>cotainr</code> which packages need to be installed.
This is also discussed in 
<a href="https://lumi-supercomputer.github.io/LUMI-EasyBuild-docs/r/rocm/#using-the-images-as-base-image-for-cotainr">"Using the images as base image for cotainr" section of the LUMI Software Library rocm page</a>.</p>
<p>For example, to create a PyTorch installation for ROCm 6.0.3, one can first create the 
YAML file <code>py312_rocm603_pytorch.yml</code> with content</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">py312_rocm603_pytorch.yml</span>
<span class="nt">channels</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">filelock=3.15.4</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fsspec=2024.9.0</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jinja2=3.1.4</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">markupsafe=2.1.5</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mpmath=1.3.0</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networkx=3.3</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy=2.1.1</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pillow=10.4.0</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip=24.0</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python=3.12.3</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sympy=1.13.2</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">typing-extensions=4.12.2</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pip</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--extra-index-url https://download.pytorch.org/whl/rocm6.0/</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pytorch-triton-rocm==3.0.0</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">torch==2.4.1+rocm6.0</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">torchaudio==2.4.1+rocm6.0</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">torchvision==0.19.1+rocm6.0</span>
</code></pre></div>
<p>Next we need to run <code>cotainr</code> with the right base image to generate the container:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>LUMI/24.03<span class="w"> </span>cotainr
cotainr<span class="w"> </span>build<span class="w"> </span>my-new-image.sif<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--base-image<span class="o">=</span>/appl/local/containers/sif-images/lumi-rocm-rocm-6.0.3.sif<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--conda-env<span class="o">=</span>py312_rocm603_pytorch.yml
</code></pre></div>
<p>or, as for the current version of <code>cotainr</code> in <code>LUMI/24.03</code> this image is actually the base image for the <code>lumi-g</code> preset:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>LUMI/24.03<span class="w"> </span>cotainr
cotainr<span class="w"> </span>build<span class="w"> </span>my-new-image.sif<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--system<span class="o">=</span>lumi-g<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--conda-env<span class="o">=</span>py312_rocm603_pytorch.yml
</code></pre></div>
<p>The <code>cotainr</code> command takes three arguments in this example:</p>
<ul>
<li>
<p><code>my-new-image.sif</code> is the name of the container image that it will generate.</p>
</li>
<li>
<p><code>--base-image=/appl/local/containers/sif-images/lumi-rocm-rocm-6.0.3.sif</code> points to the base image that we will use,
    in this case the latest version of the ROCm 6.0.3 container provided on LUMI.</p>
<p>This version was chosen for this case as ROCm 6.0.3 version corresponding to the driver
on LUMI at the time of writing (early December 2024), but with that driver we could also have
chosen PyTorch versions that require ROCm 6.1 or 6.2.</p>
</li>
<li>
<p><code>--conda-env=py312_rocm603_pytorch.yml</code>: The YAML file with the environment definition.</p>
</li>
</ul>
<p>The result is a container for which you will still need to provide the proper bindings to some libraries on the system (to interface
properly with Slurm and so that RCCL with the OFI plugin can work) and to your spaces in the file system that you want to use.
Or you can adapt an EasyBuild-generated module for the ROCm container that you used to use your container instead (which will require
the EasyBuild <code>eb</code> command flag <code>--sourcepath</code> to specify where it can find the container that you generated, and you cannot delete
it from the installation afterwards). In the future, we may provide some other installable module(s) with generic bindings to use
instead.</p>
<h3 id="extending-the-container-with-the-singularity-unprivileged-proot-build">Extending the container with the singularity unprivileged <code>proot</code> build<a class="headerlink" href="#extending-the-container-with-the-singularity-unprivileged-proot-build" title="Permanent link">&para;</a></h3>
<figure style="border: 1px solid #000">
<p><img alt="Extending containers with the singularity unprivileged proot build process" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ExtendingSingularityBuild.png" /></p>
</figure>
<p>Singularity specialists can also build upon an existing container using <code>singularity build</code>. 
The options for build processes are limited though because we have no support for user namespaces or the fakeroot feature.
The <a href="https://docs.sylabs.io/guides/3.11/user-guide/build_a_container.html#unprivilged-proot-builds">"Unprivileged <code>proot</code> builds" feature from recent SingularityCE versions</a>
is supported though.</p>
<p>To use this feature, you first need to write a singularity-compatible container definition file, e.g.,</p>
<div class="highlight"><pre><span></span><code>Bootstrap: localimage

From: /appl/local/containers/easybuild-sif-images/lumi-pytorch-rocm-5.6.1-python-3.10-pytorch-v2.2.0-dockerhash-f72ddd8ef883.sif

%post

zypper -n install -y Mesa libglvnd libgthread-2_0-0 hostname
</code></pre></div>
<p>which is a definition file that will use the SUSE <code>zypper</code> software installation tool to add a number of packages
to one of the LUMI PyTorch containers to provide support for software OpenGL rendering (the CDNA GPUs do not support
OpenGL acceleration) and the <code>hostname</code> command.</p>
<p>To use the <code>singularity build</code> command, we first need to make the <code>proot</code> command available. This is currently
not installed in the LUMI system image, but is provided by the <code>systools/24.03</code> and later modules that can be
found in the corresponding LUMI stack and in the CrayEnv environment.</p>
<p>To update the container, run:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>LUMI/24.03<span class="w"> </span>systools
singularity<span class="w"> </span>build<span class="w"> </span>my-new-container.sif<span class="w"> </span>my-container-definition.def
</code></pre></div>
<p>Note:</p>
<ul>
<li>
<p>In this example, as we use the <code>LUMI/24.03</code> module, there is no need to specify the version of <code>systools</code> as there
    is only one in this stack. An alternative would have been to use</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>CrayEnv<span class="w"> </span>systools/24.03
</code></pre></div>
</li>
<li>
<p>The <code>singularity build</code> command takes two options: The first one is the name of the new container image that it
    generates and the second one is the container definition file.</p>
</li>
</ul>
<p>When starting from a base image installed with one of our EasyBuild recipes, it is possible to overwrite the image
file and in fact, the module that was generated with EasyBuild might just work...</p>
<h3 id="extending-the-container-through-a-python-virtual-environment">Extending the container through a Python virtual environment<a class="headerlink" href="#extending-the-container-through-a-python-virtual-environment" title="Permanent link">&para;</a></h3>
<figure style="border: 1px solid #000">
<p><img alt="Extending the containers through a Python virtual environment - slide 1" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ExtendingPVenv_1.png" /></p>
</figure>
<p>Some newer containers installed with EasyBuild already include a pre-initialised virtual environment 
(created with <code>venv</code>). The location in the filesystem of that virtual environment is:</p>
<ul>
<li>
<p><code>/user-software/venv/MyVEnv</code> in the container, where <code>MyVEnv</code> is actually different in different containers.
    We used the same name as for the Conda environment.</p>
</li>
<li>
<p><code>$CONTAINERROOT/user-software/venv/MyVEnv</code> outside the container (unless that directory structure is replaced
    with the <code>$CONTAINERROOT/user-software.squashfs</code> file).</p>
</li>
</ul>
<p>That directory struture was chosen to (a) make it possible to install a second virtual environment in <code>/user-software/venv</code> while 
(b) also leaving space to install software by hand in <code>/user-software</code> and hence create a <code>bin</code> and <code>lib</code> subdirectory in those
(though they currently are not automatically added to the search paths for executables and shared libraries in the container).</p>
<p>The whole process is very simple with those containers that already have a pre-initialised virtual environment as 
the module already intialises several environment variables in the container that have the combined effect of
activating both the Conda installation and then on top of it, the default Python virtual environment.</p>
<p>Outside the container, we need to load the container module, and then we can easily go into the container using the <code>SIF</code>
environment variable to point to its name:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>LUMI
module<span class="w"> </span>load<span class="w"> </span>PyTorch/2.2.0-rocm-5.6.1-python-3.10-singularity-20240315
singularity<span class="w"> </span>shell<span class="w"> </span><span class="nv">$SIF</span>
</code></pre></div>
<p>and in the container, at the <code>Singularity&gt;</code> prompt, we can use <code>pip install</code> without extra options, e.g.,</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pytorch-lightning
</code></pre></div>
<figure style="border: 1px solid #000">
<p><img alt="Extending the containers through a Python virtual environment - slide 2" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ExtendingPVenv_2.png" /></p>
</figure>
<p>As already discussed before in this session of the tutorial, such a Python virtual environment has the potential
to create a lot of small files in the Lustre <code>$CONTAINERROOT/user-software</code> subdirectory, which can wipe out
all benefits we got from using a container for the Python installation. But our modules with virtual environment
support offer a solution for this also: the <code>make-squashfs</code> command (which should be run outside the container)
will convert the <code>user-software</code> subdirectory in <code>$CONTAINERROOT</code> into the SquashFS file <code>user-software.squashfs</code>
which, after reloading the module, will be used to provide the <code>/user-software</code> subdirectory in the container.
The downside is that now <code>/user-software</code> is read-only as it comes from the SquashFS file. To install further
packages, you'd have to remove the <code>user-software.squashfs</code> file again and reload the container module.</p>
<p>Currently the <code>make-squashfs</code> file will not remove the <code>$CONTAINERROOT/user-software</code> subdirectory, but once
you have verified that the SquashFS file is OK and useable in the container, you can safely delete it yourself.
We also provide the <code>unmake-squasfs</code> script to re-generate the <code>$CONTAINERROOT/user-software</code> subdirectory
(though attribues such as file time, etc., will not be the same as before).</p>
<p>It is of course possible to use this technique with all Python containers, but you may have to do a lot
more steps by hand, such as adding the binding for a directory for the virtual environment, creating and
activating the environment, and replacing the directory with a SquashFS file to improve file system
performance.</p>
<h2 id="conclusion-container-limitations-on-lumi">Conclusion: Container limitations on LUMI<a class="headerlink" href="#conclusion-container-limitations-on-lumi" title="Permanent link">&para;</a></h2>
<figure style="border: 1px solid #000">
<p><img alt="Container limitations on LUMI" loading="lazy" src="https://462000265.lumidata.eu/2day-20241210/img/LUMI-2day-20241210-11-Containers/ContainersLimitations.png" /></p>
</figure>
<p>To conclude the information on using singularity containers on LUMI,
we want to repeat the limitations:</p>
<ul>
<li>
<p>Containers use the host's operating system kernel which is likely different and
    may have different drivers and kernel extensions than your regular system.
    This may cause the container to fail or run with poor performance.
    Also, containers do not abstract the hardware unlike some virtual machine solutions.</p>
</li>
<li>
<p>The LUMI hardware is almost certainly different from that of the systems on which
    you may have used the container before and that may also cause problems.</p>
<p>In particular a generic container may not offer sufficiently good support for the 
Slingshot 11 interconnect on LUMI which requires OFI (libfabric) with the right 
network provider (the so-called Cassini provider) for optimal performance.
The software in the container may fall back to TCP sockets resulting in poor 
performance and scalability for communication-heavy programs.</p>
<p>For containers with an MPI implementation that follows the MPICH ABI the solution
is often to tell it to use the Cray MPICH libraries from the system instead.</p>
<p>Likewise, for containers for distributed AI, one may need to inject an appropriate
RCCL plugin to fully use the Slingshot 11 interconnect.</p>
</li>
<li>
<p>As containers rely on drivers in the kernel of the host OS, the AMD driver may also
    cause problems. AMD only guarantees compatibility of the driver with two minor versions
    before and after the ROCm release for which the driver was meant. Hence containers 
    using a very old version of ROCm or a very new version compared to what is available
    on LUMI, may not always work as expected.</p>
</li>
<li>
<p>The support for building containers on LUMI is currently limited due to security
    concerns. Any build process that requires elevated privileges, fakeroot or user namespaces
    will not work.</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        




<footer class="md-footer">

  

  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      
    <div class="md-footer-copyright">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" 
             style="border-width:0" 
             src="https://i.creativecommons.org/l/by/4.0/80x15.png"
        />
      </a>
      This work is licensed under a&nbsp;
      <a rel="license" 
         href="http://creativecommons.org/licenses/by/4.0/"
      >
        Creative Commons Attribution 4.0 International License
      </a>
    </div>

      
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UCb31KOJ6Wqu0sRpIRi_k8Mw" target="_blank" rel="noopener" title="LUMI on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/lumi-supercomputer" target="_blank" rel="noopener" title="LUMI on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/LUMIhpc" target="_blank" rel="noopener" title="LUMI on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "navigation.indexes", "header.autohide", "toc.follow", "content.code.annotate", "content.code.copy", "content.footnote.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>